import{L as Tt,s as F,d as _,Z as Mt,c as S,e as v,w as h,f as b,g as I,j as P,k as x,l as O,q as xt,n as Y,M as q,E as $,_ as H,$ as Et,a0 as It,i as St,b as G,a1 as rt,h as A,a2 as at,t as U,a3 as kt,m as J,a4 as Lt,z as N,r as wt,x as ot,o as dt,y as Dt,a5 as Vt}from"../chunks/DKDu0ZPa.js";import{S as K,i as X,t as B,a as j,g as lt,c as it,f as L,d as Z,m as Q,e as tt,b as et,h as jt}from"../chunks/BDm2i59a.js";import{p as z,g as Bt}from"../chunks/DV7_3WHn.js";import{d as st,w as nt}from"../chunks/Dvcxkz6l.js";function mt(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function D(a,{delay:t=0,duration:n=400,easing:e=Tt}={}){const i=+getComputedStyle(a).opacity;return{delay:t,duration:n,easing:e,css:l=>`opacity: ${l*i}`}}function ht(a,t,n){const e=a.slice();return e[5]=t[n],e}function pt(a){let t,n="Exit Meditation",e,i,l,s;return{c(){t=x("button"),t.textContent=n,this.h()},l(r){t=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-t4g94n"&&(t.textContent=n),this.h()},h(){h(t,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-filled px-4 py-2")},m(r,d){S(r,t,d),i=!0,l||(s=$(t,"click",a[3]),l=!0)},p:Y,i(r){i||(r&&q(()=>{i&&(e||(e=L(t,D,{},!0)),e.run(1))}),i=!0)},o(r){r&&(e||(e=L(t,D,{},!1)),e.run(0)),i=!1},d(r){r&&_(t),r&&e&&e.end(),l=!1,s()}}}function _t(a){let t,n,e=a[5]+"",i,l;return{c(){t=x("p"),n=new It(!1),this.h()},l(s){t=b(s,"P",{class:!0});var r=I(t);n=Et(r,!1),r.forEach(_),this.h()},h(){n.a=null,h(t,"class","text-lg max-w-sm")},m(s,r){S(s,t,r),n.m(e,t),l=!0},p(s,r){(!l||r&2)&&e!==(e=s[5]+"")&&n.p(e)},i(s){l||(s&&q(()=>{l&&(i||(i=L(t,D,{},!0)),i.run(1))}),l=!0)},o(s){s&&(i||(i=L(t,D,{},!1)),i.run(0)),l=!1},d(s){s&&_(t),s&&i&&i.end()}}}function vt(a){let t,n="Start meditation countdown",e,i,l,s;return{c(){t=x("button"),t.textContent=n,this.h()},l(r){t=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-71gbpm"&&(t.textContent=n),this.h()},h(){h(t,"class","btn variant-filled px-4 py-2 mt-4")},m(r,d){S(r,t,d),i=!0,l||(s=$(t,"click",function(){St(a[0])&&a[0].apply(this,arguments)}),l=!0)},p(r,d){a=r},i(r){i||(r&&q(()=>{i&&(e||(e=L(t,D,{},!0)),e.run(1))}),i=!0)},o(r){r&&(e||(e=L(t,D,{},!1)),e.run(0)),i=!1},d(r){r&&_(t),r&&e&&e.end(),l=!1,s()}}}function Pt(a){let t,n,e,i,l=a[1]>=3&&pt(a),s=mt(a[2].slice(0,a[1])),r=[];for(let c=0;c<s.length;c+=1)r[c]=_t(ht(a,s,c));const d=c=>B(r[c],1,1,()=>{r[c]=null});let f=a[1]>=5&&vt(a);return{c(){t=x("div"),l&&l.c(),n=O();for(let c=0;c<r.length;c+=1)r[c].c();e=O(),f&&f.c(),this.h()},l(c){t=b(c,"DIV",{class:!0});var o=I(t);l&&l.l(o),n=P(o);for(let u=0;u<r.length;u+=1)r[u].l(o);e=P(o),f&&f.l(o),o.forEach(_),this.h()},h(){h(t,"class","w-full h-full flex flex-col justify-center items-center px-6 space-y-6 text-center relative")},m(c,o){S(c,t,o),l&&l.m(t,null),v(t,n);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);v(t,e),f&&f.m(t,null),i=!0},p(c,[o]){if(c[1]>=3?l?(l.p(c,o),o&2&&j(l,1)):(l=pt(c),l.c(),j(l,1),l.m(t,n)):l&&(lt(),B(l,1,1,()=>{l=null}),it()),o&6){s=mt(c[2].slice(0,c[1]));let u;for(u=0;u<s.length;u+=1){const m=ht(c,s,u);r[u]?(r[u].p(m,o),j(r[u],1)):(r[u]=_t(m),r[u].c(),j(r[u],1),r[u].m(t,e))}for(lt(),u=s.length;u<r.length;u+=1)d(u);it()}c[1]>=5?f?(f.p(c,o),o&2&&j(f,1)):(f=vt(c),f.c(),j(f,1),f.m(t,null)):f&&(lt(),B(f,1,1,()=>{f=null}),it())},i(c){if(!i){j(l);for(let o=0;o<s.length;o+=1)j(r[o]);j(f),i=!0}},o(c){B(l),r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)B(r[o]);B(f),i=!1},d(c){c&&_(t),l&&l.d(),Mt(r,c),f&&f.d()}}}function Ot(a,t,n){let{nextStep:e}=t,{closeModal:i}=t;const l=["1. Focus on your breath moving through your nose for 2 minutes","2. <b>Tap anywhere on the screen</b> when you lose focus, a short reminder sound plays every 10s","3. Press <b>Exit meditation</b> at any time to end early","4. Have fun"];let s=0;xt(()=>{z.capture("instructions_viewed");const d=setInterval(()=>{s<l.length+1?n(1,s+=1):clearInterval(d)},1e3)});const r=()=>{z.capture("instructions_exit",{instructions_viewed:s,level:0}),i()};return a.$$set=d=>{"nextStep"in d&&n(0,e=d.nextStep),"closeModal"in d&&n(4,i=d.closeModal)},[e,s,l,r,i]}class Rt extends K{constructor(t){super(),X(this,t,Ot,Pt,F,{nextStep:0,closeModal:4})}}const ut=a=>{const t=a%60;return(a/60>1?`${Math.floor(a/60)}:`:"")+`${t<10?"0":""}${t}`};function Nt(a){let t,n,e,i,l,s;return{c(){t=at("svg"),n=at("circle"),e=at("circle"),l=at("text"),s=U(a[1]),this.h()},l(r){t=rt(r,"svg",{class:!0,viewBox:!0});var d=I(t);n=rt(d,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),I(n).forEach(_),e=rt(d,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,transform:!0}),I(e).forEach(_),l=rt(d,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0,fill:!0});var f=I(l);s=A(f,a[1]),f.forEach(_),d.forEach(_),this.h()},h(){h(n,"cx","50"),h(n,"cy","50"),h(n,"r","40"),h(n,"stroke","gray"),h(n,"stroke-width","5"),h(n,"fill","none"),h(e,"cx","50"),h(e,"cy","50"),h(e,"r","40"),h(e,"stroke","blue"),h(e,"stroke-width","5"),h(e,"fill","none"),h(e,"stroke-dasharray","251.2"),h(e,"stroke-dashoffset",i=251.2*a[0]),h(e,"transform","rotate(-90 50 50)"),h(l,"x","50"),h(l,"y","55"),h(l,"font-size","14"),h(l,"text-anchor","middle"),h(l,"fill","black"),h(t,"class","w-32 h-32"),h(t,"viewBox","0 0 100 100")},m(r,d){S(r,t,d),v(t,n),v(t,e),v(t,l),v(l,s)},p(r,[d]){d&1&&i!==(i=251.2*r[0])&&h(e,"stroke-dashoffset",i),d&2&&G(s,r[1])},i:Y,o:Y,d(r){r&&_(t)}}}function Ht(a,t,n){let e,i,{duration:l}=t,{timeLeft:s}=t;const r=kt();let d=null,f;const c=st(s,m=>ut(m));J(a,c,m=>n(1,i=m));const o=st(s,m=>m/l);J(a,o,m=>n(0,e=m));const u=async m=>{try{if(!("wakeLock"in navigator))return;m?d=await navigator.wakeLock.request("screen"):d&&(await d.release(),d=null)}catch(p){console.error(`Wake Lock ${m?"request":"release"} failed:`,p)}};return xt(()=>{f=setInterval(()=>{s.update(m=>m>0?m-1:(clearInterval(f),r("complete"),0))},1e3),u(!0)}),Lt(()=>{clearInterval(f),u(!1)}),a.$$set=m=>{"duration"in m&&n(4,l=m.duration),"timeLeft"in m&&n(5,s=m.timeLeft)},[e,i,c,o,l,s]}class yt extends K{constructor(t){super(),X(this,t,Ht,Nt,F,{duration:4,timeLeft:5})}}function At(a){let t,n,e,i="Your meditation starts in:",l,s,r,d,f="Exit Meditation",c,o,u,m;return s=new yt({props:{duration:ct,timeLeft:a[0]}}),s.$on("complete",a[1]),{c(){t=x("div"),n=x("div"),e=x("p"),e.textContent=i,l=O(),et(s.$$.fragment),r=O(),d=x("button"),d.textContent=f,this.h()},l(p){t=b(p,"DIV",{class:!0});var g=I(t);n=b(g,"DIV",{class:!0});var M=I(n);e=b(M,"P",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1tp8zka"&&(e.textContent=i),l=P(M),tt(s.$$.fragment,M),M.forEach(_),r=P(g),d=b(g,"BUTTON",{class:!0,"data-svelte-h":!0}),H(d)!=="svelte-hy6wnc"&&(d.textContent=f),g.forEach(_),this.h()},h(){h(e,"class","text-lg mt-4 text-center"),h(n,"class","absolute flex flex-col items-center pointer-events-auto"),h(d,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-outlined px-4 py-2 pointer-events-auto"),h(t,"class","w-full h-full flex flex-col items-center justify-center relative pointer-events-none")},m(p,g){S(p,t,g),v(t,n),v(n,e),v(n,l),Q(s,n,null),v(t,r),v(t,d),o=!0,u||(m=$(d,"click",a[2]),u=!0)},p:Y,i(p){o||(j(s.$$.fragment,p),p&&q(()=>{o&&(c||(c=L(d,D,{},!0)),c.run(1))}),o=!0)},o(p){B(s.$$.fragment,p),p&&(c||(c=L(d,D,{},!1)),c.run(0)),o=!1},d(p){p&&_(t),Z(s),p&&c&&c.end(),u=!1,m()}}}const ct=10;function Ut(a,t,n){let{nextStep:e}=t,{closeModal:i}=t;const l=nt(ct);z.capture("countdown_started",{level:0});const s=()=>{z.capture("countdown_complete",{level:0}),e()},r=()=>{z.capture("countdown_exit",{duration_counteddown:ct-N(l),level:0}),i()};return a.$$set=d=>{"nextStep"in d&&n(3,e=d.nextStep),"closeModal"in d&&n(4,i=d.closeModal)},[l,s,r,e,i]}class qt extends K{constructor(t){super(),X(this,t,Ut,At,F,{nextStep:3,closeModal:4})}}function Wt(a){let t,n;return{c(){t=x("br"),n=x("br")},l(e){t=b(e,"BR",{}),n=b(e,"BR",{})},m(e,i){S(e,t,i),S(e,n,i)},p:Y,d(e){e&&(_(t),_(n))}}}function zt(a){let t,n,e;return{c(){t=x("p"),n=U(a[1]),e=U(" distraction"),this.h()},l(i){t=b(i,"P",{class:!0});var l=I(t);n=A(l,a[1]),e=A(l," distraction"),l.forEach(_),this.h()},h(){h(t,"class","text-lg mt-4 text-center")},m(i,l){S(i,t,l),v(t,n),v(t,e)},p(i,l){l&2&&G(n,i[1])},d(i){i&&_(t)}}}function Yt(a){let t,n,e;return{c(){t=x("p"),n=U(a[1]),e=U(" distractions"),this.h()},l(i){t=b(i,"P",{class:!0});var l=I(t);n=A(l,a[1]),e=A(l," distractions"),l.forEach(_),this.h()},h(){h(t,"class","text-lg mt-4 text-center")},m(i,l){S(i,t,l),v(t,n),v(t,e)},p(i,l){l&2&&G(n,i[1])},d(i){i&&_(t)}}}function gt(a){let t;return{c(){t=x("div"),this.h()},l(n){t=b(n,"DIV",{class:!0,style:!0}),I(t).forEach(_),this.h()},h(){h(t,"class","ripple svelte-1wv6db6"),ot(t,"top",a[2].y+"px"),ot(t,"left",a[2].x+"px")},m(n,e){S(n,t,e)},p(n,e){e&4&&ot(t,"top",n[2].y+"px"),e&4&&ot(t,"left",n[2].x+"px")},d(n){n&&_(t)}}}function $t(a){let t,n,e,i,l,s="Tap anywhere on the screen to record your distractions",r,d,f,c,o,u="Exit Meditation",m,p,g,M;e=new yt({props:{duration:a[0],timeLeft:a[3]}}),e.$on("complete",a[8]);function R(k,C){return k[1]>1?Yt:k[1]==1?zt:Wt}let w=R(a),E=w(a),T=a[2]&&gt(a);return{c(){t=x("div"),n=x("div"),et(e.$$.fragment),i=O(),l=x("p"),l.textContent=s,r=O(),E.c(),d=O(),f=x("button"),T&&T.c(),c=O(),o=x("button"),o.textContent=u,this.h()},l(k){t=b(k,"DIV",{class:!0});var C=I(t);n=b(C,"DIV",{class:!0});var y=I(n);tt(e.$$.fragment,y),i=P(y),l=b(y,"P",{class:!0,"data-svelte-h":!0}),H(l)!=="svelte-1uyhl39"&&(l.textContent=s),r=P(y),E.l(y),y.forEach(_),d=P(C),f=b(C,"BUTTON",{class:!0});var V=I(f);T&&T.l(V),V.forEach(_),c=P(C),o=b(C,"BUTTON",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-hy6wnc"&&(o.textContent=u),C.forEach(_),this.h()},h(){h(l,"class","text-lg mt-4 text-center"),h(n,"class","absolute flex flex-col items-center pointer-events-auto p-6"),h(f,"class","absolute inset-0 w-full h-full bg-transparent pointer-events-auto relative overflow-hidden"),h(o,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-outlined px-4 py-2 pointer-events-auto"),h(t,"class","w-full h-full flex flex-col items-center justify-center relative pointer-events-none")},m(k,C){S(k,t,C),v(t,n),Q(e,n,null),v(n,i),v(n,l),v(n,r),E.m(n,null),v(t,d),v(t,f),T&&T.m(f,null),v(t,c),v(t,o),p=!0,g||(M=[$(f,"click",a[6]),$(o,"click",a[7])],g=!0)},p(k,[C]){const y={};C&1&&(y.duration=k[0]),e.$set(y),w===(w=R(k))&&E?E.p(k,C):(E.d(1),E=w(k),E&&(E.c(),E.m(n,null))),k[2]?T?T.p(k,C):(T=gt(k),T.c(),T.m(f,null)):T&&(T.d(1),T=null)},i(k){p||(j(e.$$.fragment,k),k&&q(()=>{p&&(m||(m=L(o,D,{},!0)),m.run(1))}),p=!0)},o(k){B(e.$$.fragment,k),k&&(m||(m=L(o,D,{},!1)),m.run(0)),p=!1},d(k){k&&_(t),Z(e),E.d(),T&&T.d(),k&&m&&m.end(),g=!1,wt(M)}}}function Gt(a,t,n){let e,i,{nextStep:l}=t,{duration:s}=t,{audioContext:r}=t;const d=kt(),f=nt(s),c=nt(0);J(a,c,w=>n(1,e=w));const o=nt([]),u=nt(null);J(a,u,w=>n(2,i=w));const m=w=>{const E=s-N(f);c.update(V=>V+1),o.update(V=>[...V,E]),console.log(`Click ${N(c)} recorded at ${E} seconds`),z.capture("game_tap",{timestamp:E,total_taps:N(c),level:0,button:"distracted"});const{clientX:T,clientY:k,currentTarget:C}=w,y=C.getBoundingClientRect();u.set({x:T-y.left,y:k-y.top}),setTimeout(()=>u.set(null),600)},p=()=>{z.capture("meditation_exit",{duration_meditated:s-N(f),total_taps:N(o).length,level:0}),d("complete",{clickTimestamps:N(o),durationMeditated:s-N(f),completed:N(f)<5}),l()},g=()=>{console.log("Meditation complete! Click data:",N(o)),z.capture("meditation_completed",{duration:s,total_taps:N(o).length,level:0}),d("complete",{clickTimestamps:N(o),durationMeditated:s,completed:!0}),l()},M=()=>{if(!r)return;const w=r.createOscillator(),E=r.createGain();w.type="sine",w.frequency.setValueAtTime(880,r.currentTime),E.gain.setValueAtTime(.2,r.currentTime),w.connect(E),E.connect(r.destination),w.start(),setTimeout(()=>{w.stop()},100)},R=st(f,w=>{w<s&&w%10===0&&M()});return J(a,R,w=>n(12,w)),a.$$set=w=>{"nextStep"in w&&n(10,l=w.nextStep),"duration"in w&&n(0,s=w.duration),"audioContext"in w&&n(11,r=w.audioContext)},[s,e,i,f,c,u,m,p,g,R,l,r]}class Jt extends K{constructor(t){super(),X(this,t,Gt,$t,F,{nextStep:10,duration:0,audioContext:11})}}function Ft(a){let t,n="You completed your meditation distraction-free!";return{c(){t=x("p"),t.textContent=n,this.h()},l(e){t=b(e,"P",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-j87uf1"&&(t.textContent=n),this.h()},h(){h(t,"class","text-lg mt-4")},m(e,i){S(e,t,i)},p:Y,d(e){e&&_(t)}}}function Kt(a){let t,n,e=ut(a[0].durationMeditated)+"",i,l,s=a[0].clickTimestamps.length+"",r,d,f,c,o,u,m;return{c(){t=x("p"),n=U("You meditated for "),i=U(e),l=U(" and recorded "),r=U(s),d=U(" distractions, spending "),f=U(a[1]),c=U("% of your meditation distracted."),o=O(),u=x("p"),m=U(a[2]),this.h()},l(p){t=b(p,"P",{class:!0});var g=I(t);n=A(g,"You meditated for "),i=A(g,e),l=A(g," and recorded "),r=A(g,s),d=A(g," distractions, spending "),f=A(g,a[1]),c=A(g,"% of your meditation distracted."),g.forEach(_),o=P(p),u=b(p,"P",{class:!0});var M=I(u);m=A(M,a[2]),M.forEach(_),this.h()},h(){h(t,"class","text-lg mt-4"),h(u,"class","text-lg font-mono mt-2")},m(p,g){S(p,t,g),v(t,n),v(t,i),v(t,l),v(t,r),v(t,d),v(t,f),v(t,c),S(p,o,g),S(p,u,g),v(u,m)},p(p,g){g&1&&e!==(e=ut(p[0].durationMeditated)+"")&&G(i,e),g&1&&s!==(s=p[0].clickTimestamps.length+"")&&G(r,s),g&2&&G(f,p[1]),g&4&&G(m,p[2])},d(p){p&&(_(t),_(o),_(u))}}}function Xt(a){let t,n,e="Great practice!",i,l,s,r,d="Share",f,c,o,u="Exit",m,p,g=`<p>Learn to meditate for real at 
			<a href="https://www.dhamma.org" target="_blank" class="text-blue-500 underline">dhamma.org ↗</a></p> <p class="mt-2">This app was made by Arjun, PM with 5 years experience. 
			Hire him to build your 0-1 consumer products! 
			<a href="https://www.linkedin.com/in/arjunkalburgi" target="_blank" class="text-blue-500 underline">View LinkedIn ↗</a></p>`,M,R;function w(k,C){return k[0].clickTimestamps.length>0?Kt:Ft}let E=w(a),T=E(a);return{c(){t=x("div"),n=x("h2"),n.textContent=e,i=O(),T.c(),l=O(),s=x("div"),r=x("button"),r.textContent=d,f=O(),c=x("div"),o=x("button"),o.textContent=u,m=O(),p=x("div"),p.innerHTML=g,this.h()},l(k){t=b(k,"DIV",{class:!0});var C=I(t);n=b(C,"H2",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-1untj5h"&&(n.textContent=e),i=P(C),T.l(C),l=P(C),s=b(C,"DIV",{class:!0});var y=I(s);r=b(y,"BUTTON",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1wlydhx"&&(r.textContent=d),y.forEach(_),f=P(C),c=b(C,"DIV",{class:!0});var V=I(c);o=b(V,"BUTTON",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-1t5v3tb"&&(o.textContent=u),V.forEach(_),m=P(C),p=b(C,"DIV",{class:!0,"data-svelte-h":!0}),H(p)!=="svelte-k92ud0"&&(p.innerHTML=g),C.forEach(_),this.h()},h(){h(n,"class","text-2xl font-bold"),h(r,"class","btn variant-filled px-4 py-2"),h(s,"class","mt-6 flex space-x-4"),h(o,"class","btn variant-outlined px-4 py-2"),h(c,"class","mt-6 flex space-x-4"),h(p,"class","absolute bottom-6 text-center text-sm text-gray-500"),h(t,"class","w-full h-full flex flex-col justify-center items-center p-6")},m(k,C){S(k,t,C),v(t,n),v(t,i),T.m(t,null),v(t,l),v(t,s),v(s,r),v(t,f),v(t,c),v(c,o),v(t,m),v(t,p),M||(R=[$(r,"click",a[5]),$(o,"click",a[6])],M=!0)},p(k,[C]){E===(E=w(k))&&T?T.p(k,C):(T.d(1),T=E(k),T&&(T.c(),T.m(t,l)))},i:Y,o:Y,d(k){k&&_(t),T.d(),M=!1,wt(R)}}}function Zt(a,t,n){let e,i,{closeModal:l}=t,{meditationResults:s}=t;const r=nt(s),d=st(r,u=>{if(!u.clickTimestamps)return 0;const m=new Set(u.clickTimestamps.map(g=>Math.floor(g))).size,p=Math.round(m/u.durationMeditated*100);return Math.min(100,Math.max(0,p))});J(a,d,u=>n(1,e=u));const f=st(d,u=>{const p=Math.round(u/100*20),g=20-p;return"▓".repeat(p)+"░".repeat(g)});J(a,f,u=>n(2,i=u));const c=()=>{navigator.share?(z.capture("results_shared",{total_taps:s.clickTimestamps.length,distraction_percentage:N(d),level:0}),navigator.share({text:`The Meditation Game App
I just finished a ${s.durationMeditated/60}-minute meditation with ${s.clickTimestamps.length} distractions.
${N(f)} ${N(d)}% distracted
Meditate here: https://www.arjunkalburgi.com/the-meditation-game/?utm_source=share`}).catch(u=>console.error("Sharing failed",u))):console.log("Web Share API not supported")},o=()=>{z.capture("results_exit",{shared:navigator.share!==void 0}),l()};return a.$$set=u=>{"closeModal"in u&&n(7,l=u.closeModal),"meditationResults"in u&&n(0,s=u.meditationResults)},[s,e,i,d,f,c,o,l]}class Qt extends K{constructor(t){super(),X(this,t,Zt,Xt,F,{closeModal:7,meditationResults:0})}}function bt(a){let t,n,e,i,l,s,r;const d=[le,ne,ee,te],f=[];function c(o,u){return o[2]===1?0:o[2]===2?1:o[2]===3?2:3}return e=c(a),i=f[e]=d[e](a),{c(){t=x("div"),n=x("div"),i.c(),this.h()},l(o){t=b(o,"DIV",{class:!0});var u=I(t);n=b(u,"DIV",{class:!0});var m=I(n);i.l(m),m.forEach(_),u.forEach(_),this.h()},h(){h(n,"class","fixed inset-0 bg-white flex flex-col items-center justify-center"),h(t,"class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50")},m(o,u){S(o,t,u),v(t,n),f[e].m(n,null),r=!0},p(o,u){let m=e;e=c(o),e===m?f[e].p(o,u):(lt(),B(f[m],1,1,()=>{f[m]=null}),it(),i=f[e],i?i.p(o,u):(i=f[e]=d[e](o),i.c()),j(i,1),i.m(n,null))},i(o){r||(j(i),o&&q(()=>{r&&(l||(l=L(n,D,{duration:500},!0)),l.run(1))}),o&&q(()=>{r&&(s||(s=L(t,D,{duration:500},!0)),s.run(1))}),r=!0)},o(o){B(i),o&&(l||(l=L(n,D,{duration:500},!1)),l.run(0)),o&&(s||(s=L(t,D,{duration:500},!1)),s.run(0)),r=!1},d(o){o&&_(t),f[e].d(),o&&l&&l.end(),o&&s&&s.end()}}}function te(a){let t,n,e,i;return n=new Qt({props:{closeModal:a[4],meditationResults:a[3]}}),{c(){t=x("div"),et(n.$$.fragment),this.h()},l(l){t=b(l,"DIV",{class:!0});var s=I(t);tt(n.$$.fragment,s),s.forEach(_),this.h()},h(){h(t,"class","absolute inset-0 flex flex-col")},m(l,s){S(l,t,s),Q(n,t,null),i=!0},p(l,s){const r={};s&8&&(r.meditationResults=l[3]),n.$set(r)},i(l){i||(j(n.$$.fragment,l),l&&q(()=>{i&&(e||(e=L(t,D,{duration:300},!0)),e.run(1))}),i=!0)},o(l){B(n.$$.fragment,l),l&&(e||(e=L(t,D,{duration:300},!1)),e.run(0)),i=!1},d(l){l&&_(t),Z(n),l&&e&&e.end()}}}function ee(a){let t,n,e,i;return n=new Jt({props:{duration:Ct,nextStep:a[6],audioContext:a[1]}}),n.$on("complete",a[7]),{c(){t=x("div"),et(n.$$.fragment),this.h()},l(l){t=b(l,"DIV",{class:!0});var s=I(t);tt(n.$$.fragment,s),s.forEach(_),this.h()},h(){h(t,"class","absolute inset-0 flex flex-col")},m(l,s){S(l,t,s),Q(n,t,null),i=!0},p(l,s){const r={};s&2&&(r.audioContext=l[1]),n.$set(r)},i(l){i||(j(n.$$.fragment,l),l&&q(()=>{i&&(e||(e=L(t,D,{duration:300},!0)),e.run(1))}),i=!0)},o(l){B(n.$$.fragment,l),l&&(e||(e=L(t,D,{duration:300},!1)),e.run(0)),i=!1},d(l){l&&_(t),Z(n),l&&e&&e.end()}}}function ne(a){let t,n,e,i;return n=new qt({props:{nextStep:a[6],closeModal:a[4]}}),{c(){t=x("div"),et(n.$$.fragment),this.h()},l(l){t=b(l,"DIV",{class:!0});var s=I(t);tt(n.$$.fragment,s),s.forEach(_),this.h()},h(){h(t,"class","absolute inset-0 flex flex-col")},m(l,s){S(l,t,s),Q(n,t,null),i=!0},p:Y,i(l){i||(j(n.$$.fragment,l),l&&q(()=>{i&&(e||(e=L(t,D,{duration:300},!0)),e.run(1))}),i=!0)},o(l){B(n.$$.fragment,l),l&&(e||(e=L(t,D,{duration:300},!1)),e.run(0)),i=!1},d(l){l&&_(t),Z(n),l&&e&&e.end()}}}function le(a){let t,n,e,i;return n=new Rt({props:{nextStep:a[6],closeModal:a[4]}}),{c(){t=x("div"),et(n.$$.fragment),this.h()},l(l){t=b(l,"DIV",{class:!0});var s=I(t);tt(n.$$.fragment,s),s.forEach(_),this.h()},h(){h(t,"class","absolute inset-0 flex flex-col")},m(l,s){S(l,t,s),Q(n,t,null),i=!0},p:Y,i(l){i||(j(n.$$.fragment,l),l&&q(()=>{i&&(e||(e=L(t,D,{duration:300},!0)),e.run(1))}),i=!0)},o(l){B(n.$$.fragment,l),l&&(e||(e=L(t,D,{duration:300},!1)),e.run(0)),i=!1},d(l){l&&_(t),Z(n),l&&e&&e.end()}}}function ie(a){let t,n,e=a[0]&&bt(a);return{c(){e&&e.c(),t=dt()},l(i){e&&e.l(i),t=dt()},m(i,l){e&&e.m(i,l),S(i,t,l),n=!0},p(i,[l]){i[0]?e?(e.p(i,l),l&1&&j(e,1)):(e=bt(i),e.c(),j(e,1),e.m(t.parentNode,t)):e&&(lt(),B(e,1,1,()=>{e=null}),it())},i(i){n||(j(e),n=!0)},o(i){B(e),n=!1},d(i){i&&_(t),e&&e.d(i)}}}let Ct=120;function se(a,t,n){let{audioContext:e}=t,{show:i=!1}=t,l=1,s;const r=()=>{n(0,i=!1),n(2,l=1)},d=o=>{const{clickTimestamps:u,durationMeditated:m,completed:p}=o.detail,M={user_id:Bt(),created_at:new Date(new Date().getTime()-m*1e3).toISOString(),level:0,duration_meditated:m,duration_planned:Ct,total_clicks:u.length,click_timestamps:u,completed:p},R=JSON.parse(localStorage.getItem("meditation_sessions")||"[]");R.push(M),localStorage.setItem("meditation_sessions",JSON.stringify(R)),n(3,s=o.detail),f()},f=()=>setTimeout(()=>n(2,l++,l),300),c=o=>d(o);return a.$$set=o=>{"audioContext"in o&&n(1,e=o.audioContext),"show"in o&&n(0,i=o.show)},[i,e,l,s,r,d,f,c]}class re extends K{constructor(t){super(),X(this,t,se,ie,F,{audioContext:1,show:0})}}function ae(a){let t,n,e,i="Welcome to The Meditation Game!",l,s,r="Learn how to meditate through gameplay",d,f,c,o="Start meditation",u,m,p=`<p>Learn to meditate for real at 
			<a href="https://www.dhamma.org" target="_blank" class="text-blue-500 underline">dhamma.org ↗</a></p> <p class="mt-2">This app was made by Arjun Kalburgi, PM with 5 years experience. 
			Hire him to build your 0-1 consumer products! 
			<a href="https://www.linkedin.com/in/arjunkalburgi" target="_blank" class="text-blue-500 underline">View LinkedIn ↗</a></p>`,g,M,R,w,E,T;function k(y){a[3](y)}let C={audioContext:a[1]};return a[0]!==void 0&&(C.show=a[0]),M=new re({props:C}),Dt.push(()=>jt(M,"show",k)),{c(){t=x("div"),n=x("div"),e=x("h2"),e.textContent=i,l=O(),s=x("p"),s.textContent=r,d=O(),f=x("div"),c=x("button"),c.textContent=o,u=O(),m=x("div"),m.innerHTML=p,g=O(),et(M.$$.fragment),this.h()},l(y){t=b(y,"DIV",{class:!0});var V=I(t);n=b(V,"DIV",{class:!0});var W=I(n);e=b(W,"H2",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-pdov40"&&(e.textContent=i),l=P(W),s=b(W,"P",{"data-svelte-h":!0}),H(s)!=="svelte-9lckun"&&(s.textContent=r),d=P(W),f=b(W,"DIV",{class:!0});var ft=I(f);c=b(ft,"BUTTON",{class:!0,"data-svelte-h":!0}),H(c)!=="svelte-q2j8m"&&(c.textContent=o),ft.forEach(_),W.forEach(_),u=P(V),m=b(V,"DIV",{class:!0,"data-svelte-h":!0}),H(m)!=="svelte-1iyjdy7"&&(m.innerHTML=p),V.forEach(_),g=P(y),tt(M.$$.fragment,y),this.h()},h(){h(e,"class","h2"),h(c,"class","btn variant-filled"),h(f,"class","flex justify-center space-x-2"),h(n,"class","space-y-10 text-center flex flex-col items-center"),h(m,"class","absolute bottom-6 text-center text-sm text-gray-500"),h(t,"class","container h-full mx-auto flex justify-center items-center p-6 svelte-v1my5k")},m(y,V){S(y,t,V),v(t,n),v(n,e),v(n,l),v(n,s),v(n,d),v(n,f),v(f,c),v(t,u),v(t,m),S(y,g,V),Q(M,y,V),w=!0,E||(T=$(c,"click",a[2]),E=!0)},p(y,[V]){const W={};V&2&&(W.audioContext=y[1]),!R&&V&1&&(R=!0,W.show=y[0],Vt(()=>R=!1)),M.$set(W)},i(y){w||(j(M.$$.fragment,y),w=!0)},o(y){B(M.$$.fragment,y),w=!1},d(y){y&&(_(t),_(g)),Z(M,y),E=!1,T()}}}function oe(a,t,n){let e=!1,i=null;const l=()=>{i||n(1,i=new(window.AudioContext||window.webkitAudioContext)),n(0,e=!0)};function s(r){e=r,n(0,e)}return[e,i,l,s]}class me extends K{constructor(t){super(),X(this,t,oe,ae,F,{})}}export{me as component};
