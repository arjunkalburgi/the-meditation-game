import{L as It,s as F,d as p,Z as St,c as E,e as _,w as m,f as b,g as C,j as P,k as g,l as O,q as Tt,n as z,M as q,E as W,_ as N,$ as Dt,a0 as $t,i as Vt,b as ot,a1 as st,h as U,a2 as it,t as A,a3 as yt,m as at,a4 as jt,y as ct,a5 as ft,r as Ct,x as lt,z as G,o as ht}from"../chunks/DKDu0ZPa.js";import{S as J,i as K,t as R,a as j,g as et,c as nt,f as S,h as dt,d as X,m as Z,e as Q,b as tt}from"../chunks/BDm2i59a.js";import{p as Y,g as Lt}from"../chunks/DV7_3WHn.js";import{d as pt,w as rt}from"../chunks/Dvcxkz6l.js";function _t(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function D(r,{delay:t=0,duration:n=400,easing:e=It}={}){const i=+getComputedStyle(r).opacity;return{delay:t,duration:n,easing:e,css:s=>`opacity: ${s*i}`}}function vt(r,t,n){const e=r.slice();return e[5]=t[n],e}function bt(r){let t,n="Exit Meditation",e,i,s,l;return{c(){t=g("button"),t.textContent=n,this.h()},l(a){t=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-t4g94n"&&(t.textContent=n),this.h()},h(){m(t,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-filled px-4 py-2")},m(a,d){E(a,t,d),i=!0,s||(l=W(t,"click",r[3]),s=!0)},p:z,i(a){i||(a&&q(()=>{i&&(e||(e=S(t,D,{},!0)),e.run(1))}),i=!0)},o(a){a&&(e||(e=S(t,D,{},!1)),e.run(0)),i=!1},d(a){a&&p(t),a&&e&&e.end(),s=!1,l()}}}function gt(r){let t,n,e=r[5]+"",i,s;return{c(){t=g("p"),n=new $t(!1),this.h()},l(l){t=b(l,"P",{class:!0});var a=C(t);n=Dt(a,!1),a.forEach(p),this.h()},h(){n.a=null,m(t,"class","text-lg max-w-sm")},m(l,a){E(l,t,a),n.m(e,t),s=!0},p(l,a){(!s||a&2)&&e!==(e=l[5]+"")&&n.p(e)},i(l){s||(l&&q(()=>{s&&(i||(i=S(t,D,{},!0)),i.run(1))}),s=!0)},o(l){l&&(i||(i=S(t,D,{},!1)),i.run(0)),s=!1},d(l){l&&p(t),l&&i&&i.end()}}}function xt(r){let t,n="Start meditation countdown",e,i,s,l;return{c(){t=g("button"),t.textContent=n,this.h()},l(a){t=b(a,"BUTTON",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-71gbpm"&&(t.textContent=n),this.h()},h(){m(t,"class","btn variant-filled px-4 py-2 mt-4")},m(a,d){E(a,t,d),i=!0,s||(l=W(t,"click",function(){Vt(r[0])&&r[0].apply(this,arguments)}),s=!0)},p(a,d){r=a},i(a){i||(a&&q(()=>{i&&(e||(e=S(t,D,{},!0)),e.run(1))}),i=!0)},o(a){a&&(e||(e=S(t,D,{},!1)),e.run(0)),i=!1},d(a){a&&p(t),a&&e&&e.end(),s=!1,l()}}}function Bt(r){let t,n,e,i,s=r[1]>=3&&bt(r),l=_t(r[2].slice(0,r[1])),a=[];for(let c=0;c<l.length;c+=1)a[c]=gt(vt(r,l,c));const d=c=>R(a[c],1,1,()=>{a[c]=null});let o=r[1]>=5&&xt(r);return{c(){t=g("div"),s&&s.c(),n=O();for(let c=0;c<a.length;c+=1)a[c].c();e=O(),o&&o.c(),this.h()},l(c){t=b(c,"DIV",{class:!0});var u=C(t);s&&s.l(u),n=P(u);for(let f=0;f<a.length;f+=1)a[f].l(u);e=P(u),o&&o.l(u),u.forEach(p),this.h()},h(){m(t,"class","w-full h-full flex flex-col justify-center items-center px-6 space-y-6 text-center relative")},m(c,u){E(c,t,u),s&&s.m(t,null),_(t,n);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(t,null);_(t,e),o&&o.m(t,null),i=!0},p(c,[u]){if(c[1]>=3?s?(s.p(c,u),u&2&&j(s,1)):(s=bt(c),s.c(),j(s,1),s.m(t,n)):s&&(et(),R(s,1,1,()=>{s=null}),nt()),u&6){l=_t(c[2].slice(0,c[1]));let f;for(f=0;f<l.length;f+=1){const v=vt(c,l,f);a[f]?(a[f].p(v,u),j(a[f],1)):(a[f]=gt(v),a[f].c(),j(a[f],1),a[f].m(t,e))}for(et(),f=l.length;f<a.length;f+=1)d(f);nt()}c[1]>=5?o?(o.p(c,u),u&2&&j(o,1)):(o=xt(c),o.c(),j(o,1),o.m(t,null)):o&&(et(),R(o,1,1,()=>{o=null}),nt())},i(c){if(!i){j(s);for(let u=0;u<l.length;u+=1)j(a[u]);j(o),i=!0}},o(c){R(s),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)R(a[u]);R(o),i=!1},d(c){c&&p(t),s&&s.d(),St(a,c),o&&o.d()}}}function Rt(r,t,n){let{nextStep:e}=t,{closeModal:i}=t;const s=["1. Feel the air move through your nose as you breathe","2. <b>Tap anywhere on the screen</b> when you lose focus","3. <b>Exit meditation</b> to end early","4. Relax and have fun"];let l=0;Tt(()=>{Y.capture("instructions_viewed");const d=setInterval(()=>{l<s.length+1?n(1,l+=1):clearInterval(d)},1e3)});const a=()=>{Y.capture("instructions_exit",{instructions_viewed:l,level:0}),i()};return r.$$set=d=>{"nextStep"in d&&n(0,e=d.nextStep),"closeModal"in d&&n(4,i=d.closeModal)},[e,l,s,a,i]}class Pt extends J{constructor(t){super(),K(this,t,Rt,Bt,F,{nextStep:0,closeModal:4})}}const ut=r=>{const t=r%60;return(r/60>1?`${Math.floor(r/60)}:`:"")+`${t<10?"0":""}${t}`};function Ot(r){let t,n,e,i,s,l;return{c(){t=it("svg"),n=it("circle"),e=it("circle"),s=it("text"),l=A(r[1]),this.h()},l(a){t=st(a,"svg",{class:!0,viewBox:!0});var d=C(t);n=st(d,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),C(n).forEach(p),e=st(d,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,transform:!0}),C(e).forEach(p),s=st(d,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0,fill:!0});var o=C(s);l=U(o,r[1]),o.forEach(p),d.forEach(p),this.h()},h(){m(n,"cx","50"),m(n,"cy","50"),m(n,"r","40"),m(n,"stroke","gray"),m(n,"stroke-width","5"),m(n,"fill","none"),m(e,"cx","50"),m(e,"cy","50"),m(e,"r","40"),m(e,"stroke","blue"),m(e,"stroke-width","5"),m(e,"fill","none"),m(e,"stroke-dasharray","251.2"),m(e,"stroke-dashoffset",i=251.2*r[0]),m(e,"transform","rotate(-90 50 50)"),m(s,"x","50"),m(s,"y","55"),m(s,"font-size","14"),m(s,"text-anchor","middle"),m(s,"fill","black"),m(t,"class","w-32 h-32"),m(t,"viewBox","0 0 100 100")},m(a,d){E(a,t,d),_(t,n),_(t,e),_(t,s),_(s,l)},p(a,[d]){d&1&&i!==(i=251.2*a[0])&&m(e,"stroke-dashoffset",i),d&2&&ot(l,a[1])},i:z,o:z,d(a){a&&p(t)}}}const Nt="/sounds/gong.mp3";function Ht(r,t,n){let e,i,{duration:s}=t,{startTimestamp:l}=t;const a=yt();let d=rt(s),o=null,c,u=new Audio(Nt);const f=pt(d,h=>ut(h));at(r,f,h=>n(1,i=h));const v=pt(d,h=>h/s);at(r,v,h=>n(0,e=h));const x=()=>{clearInterval(c),u.play(),a("complete")},M=async h=>{try{if(!("wakeLock"in navigator))return;h?o=await navigator.wakeLock.request("screen"):o&&(await o.release(),o=null)}catch(y){console.error(`Wake Lock ${h?"request":"release"} failed:`,y)}};return Tt(()=>{n(4,l=Date.now()),c=setInterval(()=>{d.update(h=>h>0?h-1:(x(),0))},1e3),M(!0)}),jt(()=>{clearInterval(c),M(!1)}),r.$$set=h=>{"duration"in h&&n(5,s=h.duration),"startTimestamp"in h&&n(4,l=h.startTimestamp)},[e,i,f,v,l,s]}class Mt extends J{constructor(t){super(),K(this,t,Ht,Ot,F,{duration:5,startTimestamp:4})}}function Ut(r){let t,n,e,i="Your meditation starts in:",s,l,a,d,o,c="Exit Meditation",u,f,v,x;function M(y){r[5](y)}let h={duration:At};return r[0]!==void 0&&(h.startTimestamp=r[0]),l=new Mt({props:h}),ct.push(()=>dt(l,"startTimestamp",M)),l.$on("complete",r[1]),{c(){t=g("div"),n=g("div"),e=g("p"),e.textContent=i,s=O(),tt(l.$$.fragment),d=O(),o=g("button"),o.textContent=c,this.h()},l(y){t=b(y,"DIV",{class:!0});var L=C(t);n=b(L,"DIV",{class:!0});var $=C(n);e=b($,"P",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-1tp8zka"&&(e.textContent=i),s=P($),Q(l.$$.fragment,$),$.forEach(p),d=P(L),o=b(L,"BUTTON",{class:!0,"data-svelte-h":!0}),N(o)!=="svelte-hy6wnc"&&(o.textContent=c),L.forEach(p),this.h()},h(){m(e,"class","text-lg mt-4 text-center"),m(n,"class","absolute flex flex-col items-center pointer-events-auto"),m(o,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-outlined px-4 py-2 pointer-events-auto"),m(t,"class","w-full h-full flex flex-col items-center justify-center relative pointer-events-none")},m(y,L){E(y,t,L),_(t,n),_(n,e),_(n,s),Z(l,n,null),_(t,d),_(t,o),f=!0,v||(x=W(o,"click",r[2]),v=!0)},p(y,[L]){const $={};!a&&L&1&&(a=!0,$.startTimestamp=y[0],ft(()=>a=!1)),l.$set($)},i(y){f||(j(l.$$.fragment,y),y&&q(()=>{f&&(u||(u=S(o,D,{},!0)),u.run(1))}),f=!0)},o(y){R(l.$$.fragment,y),y&&(u||(u=S(o,D,{},!1)),u.run(0)),f=!1},d(y){y&&p(t),X(l),y&&u&&u.end(),v=!1,x()}}}const At=5;function qt(r,t,n){let{nextStep:e}=t,{closeModal:i}=t,s=0;Y.capture("countdown_started",{level:0});const l=()=>{Y.capture("countdown_complete",{level:0}),e()},a=()=>{Y.capture("countdown_exit",{duration_counteddown:(Date.now()-s)/1e3,level:0}),i()};function d(o){s=o,n(0,s)}return r.$$set=o=>{"nextStep"in o&&n(3,e=o.nextStep),"closeModal"in o&&n(4,i=o.closeModal)},[s,l,a,e,i,d]}class Yt extends J{constructor(t){super(),K(this,t,qt,Ut,F,{nextStep:3,closeModal:4})}}function zt(r){let t,n;return{c(){t=g("br"),n=g("br")},l(e){t=b(e,"BR",{}),n=b(e,"BR",{})},m(e,i){E(e,t,i),E(e,n,i)},p:z,d(e){e&&(p(t),p(n))}}}function Wt(r){let t,n,e;return{c(){t=g("p"),n=A(r[2]),e=A(" distraction"),this.h()},l(i){t=b(i,"P",{class:!0});var s=C(t);n=U(s,r[2]),e=U(s," distraction"),s.forEach(p),this.h()},h(){m(t,"class","text-lg mt-4 text-center")},m(i,s){E(i,t,s),_(t,n),_(t,e)},p(i,s){s&4&&ot(n,i[2])},d(i){i&&p(t)}}}function Gt(r){let t,n,e;return{c(){t=g("p"),n=A(r[2]),e=A(" distractions"),this.h()},l(i){t=b(i,"P",{class:!0});var s=C(t);n=U(s,r[2]),e=U(s," distractions"),s.forEach(p),this.h()},h(){m(t,"class","text-lg mt-4 text-center")},m(i,s){E(i,t,s),_(t,n),_(t,e)},p(i,s){s&4&&ot(n,i[2])},d(i){i&&p(t)}}}function wt(r){let t;return{c(){t=g("div"),this.h()},l(n){t=b(n,"DIV",{class:!0,style:!0}),C(t).forEach(p),this.h()},h(){m(t,"class","ripple svelte-1wv6db6"),lt(t,"top",r[3].y+"px"),lt(t,"left",r[3].x+"px")},m(n,e){E(n,t,e)},p(n,e){e&8&&lt(t,"top",n[3].y+"px"),e&8&&lt(t,"left",n[3].x+"px")},d(n){n&&p(t)}}}function Ft(r){let t,n,e,i,s,l,a="Tap anywhere on the screen to record your distractions",d,o,c,u,f,v="Exit Meditation",x,M,h,y;function L(w){r[10](w)}let $={duration:r[0]};r[1]!==void 0&&($.startTimestamp=r[1]),e=new Mt({props:$}),ct.push(()=>dt(e,"startTimestamp",L)),e.$on("complete",r[8]);function B(w,I){return w[2]>1?Gt:w[2]==1?Wt:zt}let V=B(r),T=V(r),k=r[3]&&wt(r);return{c(){t=g("div"),n=g("div"),tt(e.$$.fragment),s=O(),l=g("p"),l.textContent=a,d=O(),T.c(),o=O(),c=g("button"),k&&k.c(),u=O(),f=g("button"),f.textContent=v,this.h()},l(w){t=b(w,"DIV",{class:!0});var I=C(t);n=b(I,"DIV",{class:!0});var H=C(n);Q(e.$$.fragment,H),s=P(H),l=b(H,"P",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-1uyhl39"&&(l.textContent=a),d=P(H),T.l(H),H.forEach(p),o=P(I),c=b(I,"BUTTON",{class:!0});var mt=C(c);k&&k.l(mt),mt.forEach(p),u=P(I),f=b(I,"BUTTON",{class:!0,"data-svelte-h":!0}),N(f)!=="svelte-hy6wnc"&&(f.textContent=v),I.forEach(p),this.h()},h(){m(l,"class","text-lg mt-4 text-center"),m(n,"class","absolute flex flex-col items-center pointer-events-auto p-6"),m(c,"class","absolute inset-0 w-full h-full bg-transparent pointer-events-auto relative overflow-hidden"),m(f,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-outlined px-4 py-2 pointer-events-auto"),m(t,"class","w-full h-full flex flex-col items-center justify-center relative pointer-events-none")},m(w,I){E(w,t,I),_(t,n),Z(e,n,null),_(n,s),_(n,l),_(n,d),T.m(n,null),_(t,o),_(t,c),k&&k.m(c,null),_(t,u),_(t,f),M=!0,h||(y=[W(c,"click",r[6]),W(f,"click",r[7])],h=!0)},p(w,[I]){const H={};I&1&&(H.duration=w[0]),!i&&I&2&&(i=!0,H.startTimestamp=w[1],ft(()=>i=!1)),e.$set(H),V===(V=B(w))&&T?T.p(w,I):(T.d(1),T=V(w),T&&(T.c(),T.m(n,null))),w[3]?k?k.p(w,I):(k=wt(w),k.c(),k.m(c,null)):k&&(k.d(1),k=null)},i(w){M||(j(e.$$.fragment,w),w&&q(()=>{M&&(x||(x=S(f,D,{},!0)),x.run(1))}),M=!0)},o(w){R(e.$$.fragment,w),w&&(x||(x=S(f,D,{},!1)),x.run(0)),M=!1},d(w){w&&p(t),X(e),T.d(),k&&k.d(),w&&x&&x.end(),h=!1,Ct(y)}}}function Jt(r,t,n){let e,i,{nextStep:s}=t,{duration:l}=t;const a=yt();let d=0;const o=rt(0);at(r,o,h=>n(2,e=h));const c=rt([]),u=rt(null);at(r,u,h=>n(3,i=h));const f=h=>{const y=(Date.now()-d)/1e3;o.update(T=>T+1),c.update(T=>[...T,y]),console.log(`Click ${G(o)} recorded at ${y} seconds`),Y.capture("game_tap",{timestamp:y,total_taps:G(o),level:0,button:"distracted"});const{clientX:L,clientY:$,currentTarget:B}=h,V=B.getBoundingClientRect();u.set({x:L-V.left,y:$-V.top}),setTimeout(()=>u.set(null),600)},v=()=>{const h=(Date.now()-d)/1e3;Y.capture("meditation_exit",{duration_meditated:h,total_taps:G(c).length,level:0}),a("complete",{clickTimestamps:G(c),durationMeditated:h,completed:l-h<5}),s()},x=()=>{console.log("Meditation complete! Click data:",G(c)),Y.capture("meditation_completed",{duration:l,total_taps:G(c).length,level:0}),a("complete",{clickTimestamps:G(c),durationMeditated:l,completed:!0}),s()};function M(h){d=h,n(1,d)}return r.$$set=h=>{"nextStep"in h&&n(9,s=h.nextStep),"duration"in h&&n(0,l=h.duration)},[l,d,e,i,o,u,f,v,x,s,M]}class Kt extends J{constructor(t){super(),K(this,t,Jt,Ft,F,{nextStep:9,duration:0})}}function Xt(r){let t,n="You completed your meditation distraction-free!";return{c(){t=g("p"),t.textContent=n,this.h()},l(e){t=b(e,"P",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-j87uf1"&&(t.textContent=n),this.h()},h(){m(t,"class","text-lg mt-4")},m(e,i){E(e,t,i)},p:z,d(e){e&&p(t)}}}function Zt(r){let t,n,e=ut(r[0].durationMeditated)+"",i,s,l,a,d,o,c,u,f;return{c(){t=g("p"),n=A("You meditated for "),i=A(e),s=A(" and recorded "),l=A(r[1]),a=A(" distractions."),d=O(),o=g("p"),c=A("That’s about "),u=A(r[2]),f=A(" per minute."),this.h()},l(v){t=b(v,"P",{class:!0});var x=C(t);n=U(x,"You meditated for "),i=U(x,e),s=U(x," and recorded "),l=U(x,r[1]),a=U(x," distractions."),x.forEach(p),d=P(v),o=b(v,"P",{class:!0});var M=C(o);c=U(M,"That’s about "),u=U(M,r[2]),f=U(M," per minute."),M.forEach(p),this.h()},h(){m(t,"class","text-lg mt-4"),m(o,"class","text-lg mt-2")},m(v,x){E(v,t,x),_(t,n),_(t,i),_(t,s),_(t,l),_(t,a),E(v,d,x),E(v,o,x),_(o,c),_(o,u),_(o,f)},p(v,x){x&1&&e!==(e=ut(v[0].durationMeditated)+"")&&ot(i,e)},d(v){v&&(p(t),p(d),p(o))}}}function Qt(r){let t,n,e="Great practice!",i,s,l,a,d="Share",o,c,u,f="Exit",v,x,M=`<p>Learn to meditate for real at 
			<a href="https://www.dhamma.org" target="_blank" class="text-blue-500 underline">dhamma.org ↗</a></p> <p class="mt-2">This app was made by Arjun, PM with 5 years experience. 
			Hire him to build your 0-1 consumer products! 
			<a href="https://www.linkedin.com/in/arjunkalburgi" target="_blank" class="text-blue-500 underline">View LinkedIn ↗</a></p>`,h,y;function L(V,T){return V[0].clickTimestamps.length>0?Zt:Xt}let $=L(r),B=$(r);return{c(){t=g("div"),n=g("h2"),n.textContent=e,i=O(),B.c(),s=O(),l=g("div"),a=g("button"),a.textContent=d,o=O(),c=g("div"),u=g("button"),u.textContent=f,v=O(),x=g("div"),x.innerHTML=M,this.h()},l(V){t=b(V,"DIV",{class:!0});var T=C(t);n=b(T,"H2",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-1untj5h"&&(n.textContent=e),i=P(T),B.l(T),s=P(T),l=b(T,"DIV",{class:!0});var k=C(l);a=b(k,"BUTTON",{class:!0,"data-svelte-h":!0}),N(a)!=="svelte-1wlydhx"&&(a.textContent=d),k.forEach(p),o=P(T),c=b(T,"DIV",{class:!0});var w=C(c);u=b(w,"BUTTON",{class:!0,"data-svelte-h":!0}),N(u)!=="svelte-1t5v3tb"&&(u.textContent=f),w.forEach(p),v=P(T),x=b(T,"DIV",{class:!0,"data-svelte-h":!0}),N(x)!=="svelte-k92ud0"&&(x.innerHTML=M),T.forEach(p),this.h()},h(){m(n,"class","text-2xl font-bold"),m(a,"class","btn variant-filled px-4 py-2"),m(l,"class","mt-6 flex space-x-4"),m(u,"class","btn variant-outlined px-4 py-2"),m(c,"class","mt-6 flex space-x-4"),m(x,"class","absolute bottom-6 text-center text-sm text-gray-500"),m(t,"class","w-full h-full flex flex-col justify-center items-center p-6")},m(V,T){E(V,t,T),_(t,n),_(t,i),B.m(t,null),_(t,s),_(t,l),_(l,a),_(t,o),_(t,c),_(c,u),_(t,v),_(t,x),h||(y=[W(a,"click",r[3]),W(u,"click",r[4])],h=!0)},p(V,[T]){$===($=L(V))&&B?B.p(V,T):(B.d(1),B=$(V),B&&(B.c(),B.m(t,s)))},i:z,o:z,d(V){V&&p(t),B.d(),h=!1,Ct(y)}}}function te(r,t,n){let{closeModal:e}=t,{meditationResults:i}=t;const s=i.clickTimestamps.length,l=i.durationMeditated/i.clickTimestamps.length,a=()=>{navigator.share?(Y.capture("results_shared",{total_taps:s,distractionRate:l,level:0}),navigator.share({text:`The Meditation Game App
I just finished a ${i.durationMeditated/60}-minute meditation with ${s} distractions.
That’s about ${l} per minute.
Meditate here: https://www.arjunkalburgi.com/the-meditation-game/?utm_source=share`}).catch(o=>console.error("Sharing failed",o))):console.log("Web Share API not supported")},d=()=>{Y.capture("results_exit",{shared:navigator.share!==void 0}),e()};return r.$$set=o=>{"closeModal"in o&&n(5,e=o.closeModal),"meditationResults"in o&&n(0,i=o.meditationResults)},[i,s,l,a,d,e]}class ee extends J{constructor(t){super(),K(this,t,te,Qt,F,{closeModal:5,meditationResults:0})}}function kt(r){let t,n,e,i,s,l,a;const d=[le,ie,se,ne],o=[];function c(u,f){return u[1]===1?0:u[1]===2?1:u[1]===3?2:3}return e=c(r),i=o[e]=d[e](r),{c(){t=g("div"),n=g("div"),i.c(),this.h()},l(u){t=b(u,"DIV",{class:!0});var f=C(t);n=b(f,"DIV",{class:!0});var v=C(n);i.l(v),v.forEach(p),f.forEach(p),this.h()},h(){m(n,"class","fixed inset-0 bg-white flex flex-col items-center justify-center"),m(t,"class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50")},m(u,f){E(u,t,f),_(t,n),o[e].m(n,null),a=!0},p(u,f){let v=e;e=c(u),e===v?o[e].p(u,f):(et(),R(o[v],1,1,()=>{o[v]=null}),nt(),i=o[e],i?i.p(u,f):(i=o[e]=d[e](u),i.c()),j(i,1),i.m(n,null))},i(u){a||(j(i),u&&q(()=>{a&&(s||(s=S(n,D,{duration:500},!0)),s.run(1))}),u&&q(()=>{a&&(l||(l=S(t,D,{duration:500},!0)),l.run(1))}),a=!0)},o(u){R(i),u&&(s||(s=S(n,D,{duration:500},!1)),s.run(0)),u&&(l||(l=S(t,D,{duration:500},!1)),l.run(0)),a=!1},d(u){u&&p(t),o[e].d(),u&&s&&s.end(),u&&l&&l.end()}}}function ne(r){let t,n,e,i;return n=new ee({props:{closeModal:r[3],meditationResults:r[2]}}),{c(){t=g("div"),tt(n.$$.fragment),this.h()},l(s){t=b(s,"DIV",{class:!0});var l=C(t);Q(n.$$.fragment,l),l.forEach(p),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(s,l){E(s,t,l),Z(n,t,null),i=!0},p(s,l){const a={};l&4&&(a.meditationResults=s[2]),n.$set(a)},i(s){i||(j(n.$$.fragment,s),s&&q(()=>{i&&(e||(e=S(t,D,{duration:300},!0)),e.run(1))}),i=!0)},o(s){R(n.$$.fragment,s),s&&(e||(e=S(t,D,{duration:300},!1)),e.run(0)),i=!1},d(s){s&&p(t),X(n),s&&e&&e.end()}}}function se(r){let t,n,e,i;return n=new Kt({props:{duration:Et,nextStep:r[5]}}),n.$on("complete",r[6]),{c(){t=g("div"),tt(n.$$.fragment),this.h()},l(s){t=b(s,"DIV",{class:!0});var l=C(t);Q(n.$$.fragment,l),l.forEach(p),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(s,l){E(s,t,l),Z(n,t,null),i=!0},p:z,i(s){i||(j(n.$$.fragment,s),s&&q(()=>{i&&(e||(e=S(t,D,{duration:300},!0)),e.run(1))}),i=!0)},o(s){R(n.$$.fragment,s),s&&(e||(e=S(t,D,{duration:300},!1)),e.run(0)),i=!1},d(s){s&&p(t),X(n),s&&e&&e.end()}}}function ie(r){let t,n,e,i;return n=new Yt({props:{nextStep:r[5],closeModal:r[3]}}),{c(){t=g("div"),tt(n.$$.fragment),this.h()},l(s){t=b(s,"DIV",{class:!0});var l=C(t);Q(n.$$.fragment,l),l.forEach(p),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(s,l){E(s,t,l),Z(n,t,null),i=!0},p:z,i(s){i||(j(n.$$.fragment,s),s&&q(()=>{i&&(e||(e=S(t,D,{duration:300},!0)),e.run(1))}),i=!0)},o(s){R(n.$$.fragment,s),s&&(e||(e=S(t,D,{duration:300},!1)),e.run(0)),i=!1},d(s){s&&p(t),X(n),s&&e&&e.end()}}}function le(r){let t,n,e,i;return n=new Pt({props:{nextStep:r[5],closeModal:r[3]}}),{c(){t=g("div"),tt(n.$$.fragment),this.h()},l(s){t=b(s,"DIV",{class:!0});var l=C(t);Q(n.$$.fragment,l),l.forEach(p),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(s,l){E(s,t,l),Z(n,t,null),i=!0},p:z,i(s){i||(j(n.$$.fragment,s),s&&q(()=>{i&&(e||(e=S(t,D,{duration:300},!0)),e.run(1))}),i=!0)},o(s){R(n.$$.fragment,s),s&&(e||(e=S(t,D,{duration:300},!1)),e.run(0)),i=!1},d(s){s&&p(t),X(n),s&&e&&e.end()}}}function re(r){let t,n,e=r[0]&&kt(r);return{c(){e&&e.c(),t=ht()},l(i){e&&e.l(i),t=ht()},m(i,s){e&&e.m(i,s),E(i,t,s),n=!0},p(i,[s]){i[0]?e?(e.p(i,s),s&1&&j(e,1)):(e=kt(i),e.c(),j(e,1),e.m(t.parentNode,t)):e&&(et(),R(e,1,1,()=>{e=null}),nt())},i(i){n||(j(e),n=!0)},o(i){R(e),n=!1},d(i){i&&p(t),e&&e.d(i)}}}let Et=120;function ae(r,t,n){let{show:e=!1}=t,i=1,s;const l=()=>{n(0,e=!1),n(1,i=1)},a=c=>{const{clickTimestamps:u,durationMeditated:f,completed:v}=c.detail,M={user_id:Lt(),created_at:new Date(new Date().getTime()-f*1e3).toISOString(),level:0,duration_meditated:f,duration_planned:Et,total_clicks:u.length,click_timestamps:u,completed:v},h=JSON.parse(localStorage.getItem("meditation_sessions")||"[]");h.push(M),localStorage.setItem("meditation_sessions",JSON.stringify(h)),n(2,s=c.detail),d()},d=()=>setTimeout(()=>n(1,i++,i),300),o=c=>a(c);return r.$$set=c=>{"show"in c&&n(0,e=c.show)},[e,i,s,l,a,d,o]}class oe extends J{constructor(t){super(),K(this,t,ae,re,F,{show:0})}}function ue(r){let t,n,e,i="Welcome to The Meditation Game!",s,l,a="Learn how to meditate through gameplay",d,o,c,u="Start meditation",f,v,x=`<p>Learn to meditate for real at 
			<a href="https://www.dhamma.org" target="_blank" class="text-blue-500 underline">dhamma.org ↗</a></p> <p class="mt-2">This app was made by Arjun Kalburgi, PM with 5 years experience. 
			Hire him to build your 0-1 consumer products! 
			<a href="https://www.linkedin.com/in/arjunkalburgi" target="_blank" class="text-blue-500 underline">View LinkedIn ↗</a></p>`,M,h,y,L,$,B;function V(k){r[2](k)}let T={};return r[0]!==void 0&&(T.show=r[0]),h=new oe({props:T}),ct.push(()=>dt(h,"show",V)),{c(){t=g("div"),n=g("div"),e=g("h2"),e.textContent=i,s=O(),l=g("p"),l.textContent=a,d=O(),o=g("div"),c=g("button"),c.textContent=u,f=O(),v=g("div"),v.innerHTML=x,M=O(),tt(h.$$.fragment),this.h()},l(k){t=b(k,"DIV",{class:!0});var w=C(t);n=b(w,"DIV",{class:!0});var I=C(n);e=b(I,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-pdov40"&&(e.textContent=i),s=P(I),l=b(I,"P",{"data-svelte-h":!0}),N(l)!=="svelte-9lckun"&&(l.textContent=a),d=P(I),o=b(I,"DIV",{class:!0});var H=C(o);c=b(H,"BUTTON",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-q2j8m"&&(c.textContent=u),H.forEach(p),I.forEach(p),f=P(w),v=b(w,"DIV",{class:!0,"data-svelte-h":!0}),N(v)!=="svelte-1iyjdy7"&&(v.innerHTML=x),w.forEach(p),M=P(k),Q(h.$$.fragment,k),this.h()},h(){m(e,"class","h2"),m(c,"class","btn variant-filled"),m(o,"class","flex justify-center space-x-2"),m(n,"class","space-y-10 text-center flex flex-col items-center"),m(v,"class","absolute bottom-6 text-center text-sm text-gray-500"),m(t,"class","container h-full mx-auto flex justify-center items-center p-6 svelte-v1my5k")},m(k,w){E(k,t,w),_(t,n),_(n,e),_(n,s),_(n,l),_(n,d),_(n,o),_(o,c),_(t,f),_(t,v),E(k,M,w),Z(h,k,w),L=!0,$||(B=W(c,"click",r[1]),$=!0)},p(k,[w]){const I={};!y&&w&1&&(y=!0,I.show=k[0],ft(()=>y=!1)),h.$set(I)},i(k){L||(j(h.$$.fragment,k),L=!0)},o(k){R(h.$$.fragment,k),L=!1},d(k){k&&(p(t),p(M)),X(h,k),$=!1,B()}}}function ce(r,t,n){let e=!1;const i=()=>{window.audioContext||(window.audioContext=new(window.AudioContext||window.webkitAudioContext)),n(0,e=!0)};function s(l){e=l,n(0,e)}return[e,i,s]}class pe extends J{constructor(t){super(),K(this,t,ce,ue,F,{})}}export{pe as component};
