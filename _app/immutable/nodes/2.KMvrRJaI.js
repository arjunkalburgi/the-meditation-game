import{B as vt,s as q,d as v,P as bt,c as B,e as _,w as d,f as g,g as T,j as P,k as x,l as R,q as gt,C as A,Q as W,i as it,R as L,b as G,h as N,t as U,r as pt,S as J,T as K,U as xt,m as tt,V as kt,W as z,n as $,o as at,y as yt,X as wt}from"../chunks/CQCqVWOf.js";import{S as Q,i as X,t as I,a as E,g as H,c as Y,f as j,d as nt,m as lt,e as st,b as rt,h as Ct}from"../chunks/dGxvnXaI.js";import{d as et,w as Z}from"../chunks/BUzaF7M9.js";function ct(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function V(i,{delay:t=0,duration:n=400,easing:e=vt}={}){const s=+getComputedStyle(i).opacity;return{delay:t,duration:n,easing:e,css:r=>`opacity: ${r*s}`}}function ut(i,t,n){const e=i.slice();return e[4]=t[n],e}function ft(i){let t,n="Exit Meditation",e,s,r,c;return{c(){t=x("button"),t.textContent=n,this.h()},l(l){t=g(l,"BUTTON",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-uyrs1y"&&(t.textContent=n),this.h()},h(){d(t,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-filled px-4 py-2")},m(l,p){B(l,t,p),s=!0,r||(c=W(t,"click",function(){it(i[1])&&i[1].apply(this,arguments)}),r=!0)},p(l,p){i=l},i(l){s||(l&&A(()=>{s&&(e||(e=j(t,V,{},!0)),e.run(1))}),s=!0)},o(l){l&&(e||(e=j(t,V,{},!1)),e.run(0)),s=!1},d(l){l&&v(t),l&&e&&e.end(),r=!1,c()}}}function dt(i){let t,n=i[4]+"",e,s,r;return{c(){t=x("p"),e=U(n),this.h()},l(c){t=g(c,"P",{class:!0});var l=T(t);e=N(l,n),l.forEach(v),this.h()},h(){d(t,"class","text-lg max-w-sm")},m(c,l){B(c,t,l),_(t,e),r=!0},p(c,l){(!r||l&4)&&n!==(n=c[4]+"")&&G(e,n)},i(c){r||(c&&A(()=>{r&&(s||(s=j(t,V,{},!0)),s.run(1))}),r=!0)},o(c){c&&(s||(s=j(t,V,{},!1)),s.run(0)),r=!1},d(c){c&&v(t),c&&s&&s.end()}}}function ht(i){let t,n="Start meditation countdown",e,s,r,c;return{c(){t=x("button"),t.textContent=n,this.h()},l(l){t=g(l,"BUTTON",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-71gbpm"&&(t.textContent=n),this.h()},h(){d(t,"class","btn variant-filled px-4 py-2 mt-4")},m(l,p){B(l,t,p),s=!0,r||(c=W(t,"click",function(){it(i[0])&&i[0].apply(this,arguments)}),r=!0)},p(l,p){i=l},i(l){s||(l&&A(()=>{s&&(e||(e=j(t,V,{},!0)),e.run(1))}),s=!0)},o(l){l&&(e||(e=j(t,V,{},!1)),e.run(0)),s=!1},d(l){l&&v(t),l&&e&&e.end(),r=!1,c()}}}function Mt(i){let t,n,e,s,r=i[2]>=3&&ft(i),c=ct(i[3].slice(0,i[2])),l=[];for(let u=0;u<c.length;u+=1)l[u]=dt(ut(i,c,u));const p=u=>I(l[u],1,1,()=>{l[u]=null});let f=i[2]>=5&&ht(i);return{c(){t=x("div"),r&&r.c(),n=R();for(let u=0;u<l.length;u+=1)l[u].c();e=R(),f&&f.c(),this.h()},l(u){t=g(u,"DIV",{class:!0});var o=T(t);r&&r.l(o),n=P(o);for(let a=0;a<l.length;a+=1)l[a].l(o);e=P(o),f&&f.l(o),o.forEach(v),this.h()},h(){d(t,"class","w-full h-full flex flex-col justify-center items-center px-6 space-y-6 text-center relative")},m(u,o){B(u,t,o),r&&r.m(t,null),_(t,n);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(t,null);_(t,e),f&&f.m(t,null),s=!0},p(u,[o]){if(u[2]>=3?r?(r.p(u,o),o&4&&E(r,1)):(r=ft(u),r.c(),E(r,1),r.m(t,n)):r&&(H(),I(r,1,1,()=>{r=null}),Y()),o&12){c=ct(u[3].slice(0,u[2]));let a;for(a=0;a<c.length;a+=1){const m=ut(u,c,a);l[a]?(l[a].p(m,o),E(l[a],1)):(l[a]=dt(m),l[a].c(),E(l[a],1),l[a].m(t,e))}for(H(),a=c.length;a<l.length;a+=1)p(a);Y()}u[2]>=5?f?(f.p(u,o),o&4&&E(f,1)):(f=ht(u),f.c(),E(f,1),f.m(t,null)):f&&(H(),I(f,1,1,()=>{f=null}),Y())},i(u){if(!s){E(r);for(let o=0;o<c.length;o+=1)E(l[o]);E(f),s=!0}},o(u){I(r),l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)I(l[o]);I(f),s=!1},d(u){u&&v(t),r&&r.d(),bt(l,u),f&&f.d()}}}function Tt(i,t,n){let{nextStep:e}=t,{closeModal:s}=t;const r=["1. To practice focus, a short sound will play every 10s","2. When you hear the sound, **tap anywhere on the screen** if you’ve lost focus","3. Press **exit meditation** at any time to end early","4. Have fun"];let c=0;return gt(()=>{const l=setInterval(()=>{c<r.length+1?n(2,c+=1):clearInterval(l)},1e3)}),i.$$set=l=>{"nextStep"in l&&n(0,e=l.nextStep),"closeModal"in l&&n(1,s=l.closeModal)},[e,s,c,r]}class Et extends Q{constructor(t){super(),X(this,t,Tt,Mt,q,{nextStep:0,closeModal:1})}}function St(i){let t,n,e,s,r,c,l,p,f,u,o="Tap anywhere on the screen to record your distractions",a,m,S,y,D="Exit Meditation",h,b,M,w;return{c(){t=x("div"),n=x("div"),e=K("svg"),s=K("circle"),r=K("circle"),l=K("text"),p=U(i[1]),f=R(),u=x("p"),u.textContent=o,a=R(),m=x("button"),S=R(),y=x("button"),y.textContent=D,this.h()},l(k){t=g(k,"DIV",{class:!0});var C=T(t);n=g(C,"DIV",{class:!0});var O=T(n);e=J(O,"svg",{class:!0,viewBox:!0});var F=T(e);s=J(F,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),T(s).forEach(v),r=J(F,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,transform:!0}),T(r).forEach(v),l=J(F,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0,fill:!0});var ot=T(l);p=N(ot,i[1]),ot.forEach(v),F.forEach(v),f=P(O),u=g(O,"P",{class:!0,"data-svelte-h":!0}),L(u)!=="svelte-1uyhl39"&&(u.textContent=o),O.forEach(v),a=P(C),m=g(C,"BUTTON",{class:!0}),T(m).forEach(v),S=P(C),y=g(C,"BUTTON",{class:!0,"data-svelte-h":!0}),L(y)!=="svelte-hy6wnc"&&(y.textContent=D),C.forEach(v),this.h()},h(){d(s,"cx","50"),d(s,"cy","50"),d(s,"r","40"),d(s,"stroke","gray"),d(s,"stroke-width","5"),d(s,"fill","none"),d(r,"cx","50"),d(r,"cy","50"),d(r,"r","40"),d(r,"stroke","blue"),d(r,"stroke-width","5"),d(r,"fill","none"),d(r,"stroke-dasharray","251.2"),d(r,"stroke-dashoffset",c=251.2*i[0]),d(r,"transform","rotate(-90 50 50)"),d(l,"x","50"),d(l,"y","55"),d(l,"font-size","14"),d(l,"text-anchor","middle"),d(l,"fill","black"),d(e,"class","w-32 h-32"),d(e,"viewBox","0 0 100 100"),d(u,"class","text-lg mt-4 text-center"),d(n,"class","absolute flex flex-col items-center pointer-events-auto"),d(m,"class","absolute inset-0 w-full h-full bg-transparent pointer-events-auto"),d(y,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-outlined px-4 py-2 pointer-events-auto"),d(t,"class","w-full h-full flex flex-col items-center justify-center relative pointer-events-none")},m(k,C){B(k,t,C),_(t,n),_(n,e),_(e,s),_(e,r),_(e,l),_(l,p),_(n,f),_(n,u),_(t,a),_(t,m),_(t,S),_(t,y),b=!0,M||(w=[W(m,"click",i[4]),W(y,"click",i[5])],M=!0)},p(k,[C]){(!b||C&1&&c!==(c=251.2*k[0]))&&d(r,"stroke-dashoffset",c),(!b||C&2)&&G(p,k[1])},i(k){b||(k&&A(()=>{b&&(h||(h=j(y,V,{},!0)),h.run(1))}),b=!0)},o(k){k&&(h||(h=j(y,V,{},!1)),h.run(0)),b=!1},d(k){k&&v(t),k&&h&&h.end(),M=!1,pt(w)}}}function It(i,t,n){let e,s,{nextStep:r}=t,{duration:c}=t;const l=xt(),p=Z(c),f=Z(0),u=Z([]);let o;const a=et(p,h=>{const b=h%60;return`${Math.floor(h/60)}:${b<10?"0":""}${b}`});tt(i,a,h=>n(1,s=h));const m=et(p,h=>h/c);tt(i,m,h=>n(0,e=h)),(()=>{o=setInterval(()=>{p.update(h=>h>0?h-1:(clearInterval(o),console.log("Meditation complete! Click data:",z(u)),l("complete",z(u)),r(),0))},1e3)})(),kt(()=>clearInterval(o));const y=()=>{const h=c-z(p);f.update(b=>b+1),u.update(b=>[...b,h]),console.log(`Click ${z(f)} recorded at ${h} seconds`)},D=()=>{l("complete",z(u)),r()};return i.$$set=h=>{"nextStep"in h&&n(6,r=h.nextStep),"duration"in h&&n(7,c=h.duration)},[e,s,a,m,y,D,r,c]}class Bt extends Q{constructor(t){super(),X(this,t,It,St,q,{nextStep:6,duration:7})}}function Dt(i){let t,n="You completed your meditation distraction-free!";return{c(){t=x("p"),t.textContent=n,this.h()},l(e){t=g(e,"P",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-j87uf1"&&(t.textContent=n),this.h()},h(){d(t,"class","text-lg mt-4")},m(e,s){B(e,t,s)},p:$,d(e){e&&v(t)}}}function jt(i){let t,n,e=i[1].length+"",s,r,c,l,p,f,u;return{c(){t=x("p"),n=U("You recorded "),s=U(e),r=U(" distractions, spending "),c=U(i[2]),l=U("% of your meditation distracted."),p=R(),f=x("p"),u=U(i[3]),this.h()},l(o){t=g(o,"P",{class:!0});var a=T(t);n=N(a,"You recorded "),s=N(a,e),r=N(a," distractions, spending "),c=N(a,i[2]),l=N(a,"% of your meditation distracted."),a.forEach(v),p=P(o),f=g(o,"P",{class:!0});var m=T(f);u=N(m,i[3]),m.forEach(v),this.h()},h(){d(t,"class","text-lg mt-4"),d(f,"class","text-lg font-mono mt-2")},m(o,a){B(o,t,a),_(t,n),_(t,s),_(t,r),_(t,c),_(t,l),B(o,p,a),B(o,f,a),_(f,u)},p(o,a){a&2&&e!==(e=o[1].length+"")&&G(s,e),a&4&&G(c,o[2]),a&8&&G(u,o[3])},d(o){o&&(v(t),v(p),v(f))}}}function Vt(i){let t,n,e="Great practice!",s,r,c,l,p="Share",f,u,o,a="Exit",m,S;function y(b,M){return b[1].length>0?jt:Dt}let D=y(i),h=D(i);return{c(){t=x("div"),n=x("h2"),n.textContent=e,s=R(),h.c(),r=R(),c=x("div"),l=x("button"),l.textContent=p,f=R(),u=x("div"),o=x("button"),o.textContent=a,this.h()},l(b){t=g(b,"DIV",{class:!0});var M=T(t);n=g(M,"H2",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-1untj5h"&&(n.textContent=e),s=P(M),h.l(M),r=P(M),c=g(M,"DIV",{class:!0});var w=T(c);l=g(w,"BUTTON",{class:!0,"data-svelte-h":!0}),L(l)!=="svelte-1wlydhx"&&(l.textContent=p),w.forEach(v),f=P(M),u=g(M,"DIV",{class:!0});var k=T(u);o=g(k,"BUTTON",{class:!0,"data-svelte-h":!0}),L(o)!=="svelte-8bisxa"&&(o.textContent=a),k.forEach(v),M.forEach(v),this.h()},h(){d(n,"class","text-2xl font-bold"),d(l,"class","btn variant-filled px-4 py-2"),d(c,"class","mt-6 flex space-x-4"),d(o,"class","btn variant-outlined px-4 py-2"),d(u,"class","mt-6 flex space-x-4"),d(t,"class","w-full h-full flex flex-col justify-center items-center")},m(b,M){B(b,t,M),_(t,n),_(t,s),h.m(t,null),_(t,r),_(t,c),_(c,l),_(t,f),_(t,u),_(u,o),m||(S=[W(l,"click",i[6]),W(o,"click",function(){it(i[0])&&i[0].apply(this,arguments)})],m=!0)},p(b,[M]){i=b,D===(D=y(i))&&h?h.p(i,M):(h.d(1),h=D(i),h&&(h.c(),h.m(t,r)))},i:$,o:$,d(b){b&&v(t),h.d(),m=!1,pt(S)}}}function Pt(i,t,n){let e,s,{closeModal:r}=t,{duration:c}=t,{meditationResults:l=[]}=t;const p=Z(l),f=et(p,a=>{const m=new Set(a.map(y=>Math.floor(y))).size,S=Math.round(m/c*100);return Math.min(100,Math.max(0,S))});tt(i,f,a=>n(2,e=a));const u=et(f,a=>{const S=Math.round(a/100*20),y=20-S;return"▓".repeat(S)+"░".repeat(y)});tt(i,u,a=>n(3,s=a));const o=()=>{navigator.share?navigator.share({text:`The Meditation Game App
I just finished a 2-minute meditation with only ${l.length} distractions.
${s} ${e}% distracted
Meditate here: https://www.arjunkalburgi.com/the-meditation-game/?utm_source=share`}).catch(a=>console.error("Sharing failed",a)):console.log("Web Share API not supported")};return i.$$set=a=>{"closeModal"in a&&n(0,r=a.closeModal),"duration"in a&&n(7,c=a.duration),"meditationResults"in a&&n(1,l=a.meditationResults)},[r,l,e,s,f,u,o,c]}class Rt extends Q{constructor(t){super(),X(this,t,Pt,Vt,q,{closeModal:0,duration:7,meditationResults:1})}}function mt(i){let t,n,e,s,r,c,l;const p=[Ut,Nt,Lt],f=[];function u(o,a){return o[1]===1?0:o[1]===2?1:2}return e=u(i),s=f[e]=p[e](i),{c(){t=x("div"),n=x("div"),s.c(),this.h()},l(o){t=g(o,"DIV",{class:!0});var a=T(t);n=g(a,"DIV",{class:!0});var m=T(n);s.l(m),m.forEach(v),a.forEach(v),this.h()},h(){d(n,"class","fixed inset-0 bg-white flex flex-col items-center justify-center p-6"),d(t,"class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50")},m(o,a){B(o,t,a),_(t,n),f[e].m(n,null),l=!0},p(o,a){let m=e;e=u(o),e===m?f[e].p(o,a):(H(),I(f[m],1,1,()=>{f[m]=null}),Y(),s=f[e],s?s.p(o,a):(s=f[e]=p[e](o),s.c()),E(s,1),s.m(n,null))},i(o){l||(E(s),o&&A(()=>{l&&(r||(r=j(n,V,{duration:500},!0)),r.run(1))}),o&&A(()=>{l&&(c||(c=j(t,V,{duration:500},!0)),c.run(1))}),l=!0)},o(o){I(s),o&&(r||(r=j(n,V,{duration:500},!1)),r.run(0)),o&&(c||(c=j(t,V,{duration:500},!1)),c.run(0)),l=!1},d(o){o&&v(t),f[e].d(),o&&r&&r.end(),o&&c&&c.end()}}}function Lt(i){let t,n;return t=new Rt({props:{duration:_t,closeModal:i[3],meditationResults:i[2]}}),{c(){rt(t.$$.fragment)},l(e){st(t.$$.fragment,e)},m(e,s){lt(t,e,s),n=!0},p(e,s){const r={};s&4&&(r.meditationResults=e[2]),t.$set(r)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){nt(t,e)}}}function Nt(i){let t,n;return t=new Bt({props:{duration:_t,nextStep:i[5]}}),t.$on("complete",i[6]),{c(){rt(t.$$.fragment)},l(e){st(t.$$.fragment,e)},m(e,s){lt(t,e,s),n=!0},p:$,i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){nt(t,e)}}}function Ut(i){let t,n;return t=new Et({props:{nextStep:i[5],closeModal:i[3]}}),{c(){rt(t.$$.fragment)},l(e){st(t.$$.fragment,e)},m(e,s){lt(t,e,s),n=!0},p:$,i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(e){nt(t,e)}}}function Ot(i){let t,n,e=i[0]&&mt(i);return{c(){e&&e.c(),t=at()},l(s){e&&e.l(s),t=at()},m(s,r){e&&e.m(s,r),B(s,t,r),n=!0},p(s,[r]){s[0]?e?(e.p(s,r),r&1&&E(e,1)):(e=mt(s),e.c(),E(e,1),e.m(t.parentNode,t)):e&&(H(),I(e,1,1,()=>{e=null}),Y())},i(s){n||(E(e),n=!0)},o(s){I(e),n=!1},d(s){s&&v(t),e&&e.d(s)}}}let _t=120;function Wt(i,t,n){let{show:e=!1}=t,s=1,r=[];const c=()=>{n(0,e=!1),n(1,s=1)},l=u=>{n(2,r=u.detail),p()},p=()=>{s<3&&n(1,s+=1)},f=u=>l(u);return i.$$set=u=>{"show"in u&&n(0,e=u.show)},[e,s,r,c,l,p,f]}class At extends Q{constructor(t){super(),X(this,t,Wt,Ot,q,{show:0})}}function zt(i){let t,n,e,s="Welcome to The Meditation Game!",r,c,l="Learn how to meditate through gameplay",p,f,u,o="Start meditation",a,m,S,y,D,h;function b(w){i[2](w)}let M={};return i[0]!==void 0&&(M.show=i[0]),m=new At({props:M}),yt.push(()=>Ct(m,"show",b)),{c(){t=x("div"),n=x("div"),e=x("h2"),e.textContent=s,r=R(),c=x("p"),c.textContent=l,p=R(),f=x("div"),u=x("button"),u.textContent=o,a=R(),rt(m.$$.fragment),this.h()},l(w){t=g(w,"DIV",{class:!0});var k=T(t);n=g(k,"DIV",{class:!0});var C=T(n);e=g(C,"H2",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-pdov40"&&(e.textContent=s),r=P(C),c=g(C,"P",{"data-svelte-h":!0}),L(c)!=="svelte-9lckun"&&(c.textContent=l),p=P(C),f=g(C,"DIV",{class:!0});var O=T(f);u=g(O,"BUTTON",{class:!0,"data-svelte-h":!0}),L(u)!=="svelte-vb0hk2"&&(u.textContent=o),O.forEach(v),C.forEach(v),k.forEach(v),a=P(w),st(m.$$.fragment,w),this.h()},h(){d(e,"class","h2"),d(u,"class","btn variant-filled"),d(f,"class","flex justify-center space-x-2"),d(n,"class","space-y-10 text-center flex flex-col items-center"),d(t,"class","container h-full mx-auto flex justify-center items-center svelte-v1my5k")},m(w,k){B(w,t,k),_(t,n),_(n,e),_(n,r),_(n,c),_(n,p),_(n,f),_(f,u),B(w,a,k),lt(m,w,k),y=!0,D||(h=W(u,"click",i[1]),D=!0)},p(w,[k]){const C={};!S&&k&1&&(S=!0,C.show=w[0],wt(()=>S=!1)),m.$set(C)},i(w){y||(E(m.$$.fragment,w),y=!0)},o(w){I(m.$$.fragment,w),y=!1},d(w){w&&(v(t),v(a)),nt(m,w),D=!1,h()}}}function Gt(i,t,n){let e=!1;const s=()=>n(0,e=!0);function r(c){e=c,n(0,e)}return[e,s,r]}class qt extends Q{constructor(t){super(),X(this,t,Gt,zt,q,{})}}export{qt as component};
