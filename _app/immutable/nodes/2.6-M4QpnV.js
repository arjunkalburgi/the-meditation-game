import{L as Ct,s as J,d as h,Z as Mt,c as L,e as p,w as m,f as x,g as C,j as B,k,l as O,q as Et,n as G,M as U,E as Y,_ as N,$ as It,a0 as St,i as Dt,b as et,a1 as rt,h as R,a2 as at,t as A,a3 as kt,m as q,a4 as Vt,z as P,r as wt,x as ot,o as dt,y as Lt,a5 as $t}from"../chunks/DKDu0ZPa.js";import{S as K,i as X,t as j,a as $,g as st,c as lt,f as D,d as Z,m as F,e as Q,b as tt,h as jt}from"../chunks/BDm2i59a.js";import{p as z,g as Bt}from"../chunks/DV7_3WHn.js";import{d as it,w as nt}from"../chunks/Dvcxkz6l.js";function mt(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function V(a,{delay:t=0,duration:s=400,easing:e=Ct}={}){const l=+getComputedStyle(a).opacity;return{delay:t,duration:s,easing:e,css:n=>`opacity: ${n*l}`}}function ht(a,t,s){const e=a.slice();return e[5]=t[s],e}function pt(a){let t,s="Exit Meditation",e,l,n,i;return{c(){t=k("button"),t.textContent=s,this.h()},l(r){t=x(r,"BUTTON",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-t4g94n"&&(t.textContent=s),this.h()},h(){m(t,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-filled px-4 py-2")},m(r,d){L(r,t,d),l=!0,n||(i=Y(t,"click",a[3]),n=!0)},p:G,i(r){l||(r&&U(()=>{l&&(e||(e=D(t,V,{},!0)),e.run(1))}),l=!0)},o(r){r&&(e||(e=D(t,V,{},!1)),e.run(0)),l=!1},d(r){r&&h(t),r&&e&&e.end(),n=!1,i()}}}function _t(a){let t,s,e=a[5]+"",l,n;return{c(){t=k("p"),s=new St(!1),this.h()},l(i){t=x(i,"P",{class:!0});var r=C(t);s=It(r,!1),r.forEach(h),this.h()},h(){s.a=null,m(t,"class","text-lg max-w-sm")},m(i,r){L(i,t,r),s.m(e,t),n=!0},p(i,r){(!n||r&2)&&e!==(e=i[5]+"")&&s.p(e)},i(i){n||(i&&U(()=>{n&&(l||(l=D(t,V,{},!0)),l.run(1))}),n=!0)},o(i){i&&(l||(l=D(t,V,{},!1)),l.run(0)),n=!1},d(i){i&&h(t),i&&l&&l.end()}}}function vt(a){let t,s="Start meditation countdown",e,l,n,i;return{c(){t=k("button"),t.textContent=s,this.h()},l(r){t=x(r,"BUTTON",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-71gbpm"&&(t.textContent=s),this.h()},h(){m(t,"class","btn variant-filled px-4 py-2 mt-4")},m(r,d){L(r,t,d),l=!0,n||(i=Y(t,"click",function(){Dt(a[0])&&a[0].apply(this,arguments)}),n=!0)},p(r,d){a=r},i(r){l||(r&&U(()=>{l&&(e||(e=D(t,V,{},!0)),e.run(1))}),l=!0)},o(r){r&&(e||(e=D(t,V,{},!1)),e.run(0)),l=!1},d(r){r&&h(t),r&&e&&e.end(),n=!1,i()}}}function Ot(a){let t,s,e,l,n=a[1]>=3&&pt(a),i=mt(a[2].slice(0,a[1])),r=[];for(let c=0;c<i.length;c+=1)r[c]=_t(ht(a,i,c));const d=c=>j(r[c],1,1,()=>{r[c]=null});let f=a[1]>=5&&vt(a);return{c(){t=k("div"),n&&n.c(),s=O();for(let c=0;c<r.length;c+=1)r[c].c();e=O(),f&&f.c(),this.h()},l(c){t=x(c,"DIV",{class:!0});var o=C(t);n&&n.l(o),s=B(o);for(let u=0;u<r.length;u+=1)r[u].l(o);e=B(o),f&&f.l(o),o.forEach(h),this.h()},h(){m(t,"class","w-full h-full flex flex-col justify-center items-center px-6 space-y-6 text-center relative")},m(c,o){L(c,t,o),n&&n.m(t,null),p(t,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);p(t,e),f&&f.m(t,null),l=!0},p(c,[o]){if(c[1]>=3?n?(n.p(c,o),o&2&&$(n,1)):(n=pt(c),n.c(),$(n,1),n.m(t,s)):n&&(st(),j(n,1,1,()=>{n=null}),lt()),o&6){i=mt(c[2].slice(0,c[1]));let u;for(u=0;u<i.length;u+=1){const _=ht(c,i,u);r[u]?(r[u].p(_,o),$(r[u],1)):(r[u]=_t(_),r[u].c(),$(r[u],1),r[u].m(t,e))}for(st(),u=i.length;u<r.length;u+=1)d(u);lt()}c[1]>=5?f?(f.p(c,o),o&2&&$(f,1)):(f=vt(c),f.c(),$(f,1),f.m(t,null)):f&&(st(),j(f,1,1,()=>{f=null}),lt())},i(c){if(!l){$(n);for(let o=0;o<i.length;o+=1)$(r[o]);$(f),l=!0}},o(c){j(n),r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)j(r[o]);j(f),l=!1},d(c){c&&h(t),n&&n.d(),Mt(r,c),f&&f.d()}}}function Pt(a,t,s){let{nextStep:e}=t,{closeModal:l}=t;const n=["1. To practice focus, a short sound will play every 10s","2. If you've lost focus when you hear the sound, <b>tap anywhere on the screen</b>","3. Press <b>Exit meditation</b> at any time to end early","4. Have fun"];let i=0;Et(()=>{z.capture("instructions_viewed");const d=setInterval(()=>{i<n.length+1?s(1,i+=1):clearInterval(d)},1e3)});const r=()=>{z.capture("instructions_exit",{instructions_viewed:i,level:0}),l()};return a.$$set=d=>{"nextStep"in d&&s(0,e=d.nextStep),"closeModal"in d&&s(4,l=d.closeModal)},[e,i,n,r,l]}class Nt extends K{constructor(t){super(),X(this,t,Pt,Ot,J,{nextStep:0,closeModal:4})}}const ut=a=>{const t=a%60;return(a/60>1?`${Math.floor(a/60)}:`:"")+`${t<10?"0":""}${t}`};function Ht(a){let t,s,e,l,n,i;return{c(){t=at("svg"),s=at("circle"),e=at("circle"),n=at("text"),i=A(a[1]),this.h()},l(r){t=rt(r,"svg",{class:!0,viewBox:!0});var d=C(t);s=rt(d,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),C(s).forEach(h),e=rt(d,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,transform:!0}),C(e).forEach(h),n=rt(d,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0,fill:!0});var f=C(n);i=R(f,a[1]),f.forEach(h),d.forEach(h),this.h()},h(){m(s,"cx","50"),m(s,"cy","50"),m(s,"r","40"),m(s,"stroke","gray"),m(s,"stroke-width","5"),m(s,"fill","none"),m(e,"cx","50"),m(e,"cy","50"),m(e,"r","40"),m(e,"stroke","blue"),m(e,"stroke-width","5"),m(e,"fill","none"),m(e,"stroke-dasharray","251.2"),m(e,"stroke-dashoffset",l=251.2*a[0]),m(e,"transform","rotate(-90 50 50)"),m(n,"x","50"),m(n,"y","55"),m(n,"font-size","14"),m(n,"text-anchor","middle"),m(n,"fill","black"),m(t,"class","w-32 h-32"),m(t,"viewBox","0 0 100 100")},m(r,d){L(r,t,d),p(t,s),p(t,e),p(t,n),p(n,i)},p(r,[d]){d&1&&l!==(l=251.2*r[0])&&m(e,"stroke-dashoffset",l),d&2&&et(i,r[1])},i:G,o:G,d(r){r&&h(t)}}}function Rt(a,t,s){let e,l,{duration:n}=t,{timeLeft:i}=t;const r=kt();let d;const f=it(i,u=>ut(u));q(a,f,u=>s(1,l=u));const c=it(i,u=>u/n);return q(a,c,u=>s(0,e=u)),(()=>{d=setInterval(()=>{i.update(u=>u>0?u-1:(clearInterval(d),r("complete"),0))},1e3)})(),Vt(()=>clearInterval(d)),a.$$set=u=>{"duration"in u&&s(4,n=u.duration),"timeLeft"in u&&s(5,i=u.timeLeft)},[e,l,f,c,n,i]}class yt extends K{constructor(t){super(),X(this,t,Rt,Ht,J,{duration:4,timeLeft:5})}}function At(a){let t,s,e,l,n,i="Exit Meditation",r,d,f,c;return e=new yt({props:{duration:ct,timeLeft:a[0]}}),e.$on("complete",a[1]),{c(){t=k("div"),s=k("div"),tt(e.$$.fragment),l=O(),n=k("button"),n.textContent=i,this.h()},l(o){t=x(o,"DIV",{class:!0});var u=C(t);s=x(u,"DIV",{class:!0});var _=C(s);Q(e.$$.fragment,_),_.forEach(h),l=B(u),n=x(u,"BUTTON",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-hy6wnc"&&(n.textContent=i),u.forEach(h),this.h()},h(){m(s,"class","absolute flex flex-col items-center pointer-events-auto"),m(n,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-outlined px-4 py-2 pointer-events-auto"),m(t,"class","w-full h-full flex flex-col items-center justify-center relative pointer-events-none")},m(o,u){L(o,t,u),p(t,s),F(e,s,null),p(t,l),p(t,n),d=!0,f||(c=Y(n,"click",a[2]),f=!0)},p:G,i(o){d||($(e.$$.fragment,o),o&&U(()=>{d&&(r||(r=D(n,V,{},!0)),r.run(1))}),d=!0)},o(o){j(e.$$.fragment,o),o&&(r||(r=D(n,V,{},!1)),r.run(0)),d=!1},d(o){o&&h(t),Z(e),o&&r&&r.end(),f=!1,c()}}}const ct=10;function Ut(a,t,s){let{nextStep:e}=t,{closeModal:l}=t;const n=nt(ct);z.capture("countdown_started",{level:0});const i=()=>{z.capture("countdown_complete",{level:0}),e()},r=()=>{z.capture("countdown_exit",{duration_counteddown:ct-P(n),level:0}),l()};return a.$$set=d=>{"nextStep"in d&&s(3,e=d.nextStep),"closeModal"in d&&s(4,l=d.closeModal)},[n,i,r,e,l]}class zt extends K{constructor(t){super(),X(this,t,Ut,At,J,{nextStep:3,closeModal:4})}}function gt(a){let t,s,e;return{c(){t=k("p"),s=A(a[1]),e=A(" distractions"),this.h()},l(l){t=x(l,"P",{class:!0});var n=C(t);s=R(n,a[1]),e=R(n," distractions"),n.forEach(h),this.h()},h(){m(t,"class","text-lg mt-4 text-center")},m(l,n){L(l,t,n),p(t,s),p(t,e)},p(l,n){n&2&&et(s,l[1])},d(l){l&&h(t)}}}function bt(a){let t;return{c(){t=k("div"),this.h()},l(s){t=x(s,"DIV",{class:!0,style:!0}),C(t).forEach(h),this.h()},h(){m(t,"class","ripple svelte-1wv6db6"),ot(t,"top",a[2].y+"px"),ot(t,"left",a[2].x+"px")},m(s,e){L(s,t,e)},p(s,e){e&4&&ot(t,"top",s[2].y+"px"),e&4&&ot(t,"left",s[2].x+"px")},d(s){s&&h(t)}}}function Gt(a){let t,s,e,l,n,i="Tap anywhere on the screen to record your distractions",r,d,f,c,o,u="Exit Meditation",_,g,b,M;e=new yt({props:{duration:a[0],timeLeft:a[3]}}),e.$on("complete",a[8]);let v=a[1]&&gt(a),y=a[2]&&bt(a);return{c(){t=k("div"),s=k("div"),tt(e.$$.fragment),l=O(),n=k("p"),n.textContent=i,r=O(),v&&v.c(),d=O(),f=k("button"),y&&y.c(),c=O(),o=k("button"),o.textContent=u,this.h()},l(w){t=x(w,"DIV",{class:!0});var T=C(t);s=x(T,"DIV",{class:!0});var E=C(s);Q(e.$$.fragment,E),l=B(E),n=x(E,"P",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-1uyhl39"&&(n.textContent=i),r=B(E),v&&v.l(E),E.forEach(h),d=B(T),f=x(T,"BUTTON",{class:!0});var S=C(f);y&&y.l(S),S.forEach(h),c=B(T),o=x(T,"BUTTON",{class:!0,"data-svelte-h":!0}),N(o)!=="svelte-hy6wnc"&&(o.textContent=u),T.forEach(h),this.h()},h(){m(n,"class","text-lg mt-4 text-center"),m(s,"class","absolute flex flex-col items-center pointer-events-auto p-6"),m(f,"class","absolute inset-0 w-full h-full bg-transparent pointer-events-auto relative overflow-hidden"),m(o,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-outlined px-4 py-2 pointer-events-auto"),m(t,"class","w-full h-full flex flex-col items-center justify-center relative pointer-events-none")},m(w,T){L(w,t,T),p(t,s),F(e,s,null),p(s,l),p(s,n),p(s,r),v&&v.m(s,null),p(t,d),p(t,f),y&&y.m(f,null),p(t,c),p(t,o),g=!0,b||(M=[Y(f,"click",a[6]),Y(o,"click",a[7])],b=!0)},p(w,[T]){const E={};T&1&&(E.duration=w[0]),e.$set(E),w[1]?v?v.p(w,T):(v=gt(w),v.c(),v.m(s,null)):v&&(v.d(1),v=null),w[2]?y?y.p(w,T):(y=bt(w),y.c(),y.m(f,null)):y&&(y.d(1),y=null)},i(w){g||($(e.$$.fragment,w),w&&U(()=>{g&&(_||(_=D(o,V,{},!0)),_.run(1))}),g=!0)},o(w){j(e.$$.fragment,w),w&&(_||(_=D(o,V,{},!1)),_.run(0)),g=!1},d(w){w&&h(t),Z(e),v&&v.d(),y&&y.d(),w&&_&&_.end(),b=!1,wt(M)}}}function Wt(a,t,s){let e,l,{nextStep:n}=t,{duration:i}=t;const r=kt(),d=nt(i),f=nt(0);q(a,f,v=>s(1,e=v));const c=nt([]),o=nt(null);q(a,o,v=>s(2,l=v));const u=v=>{const y=i-P(d);f.update(I=>I+1),c.update(I=>[...I,y]),console.log(`Click ${P(f)} recorded at ${y} seconds`),z.capture("game_tap",{timestamp:y,total_taps:P(f),level:0,button:"distracted"});const{clientX:w,clientY:T,currentTarget:E}=v,S=E.getBoundingClientRect();o.set({x:w-S.left,y:T-S.top}),setTimeout(()=>o.set(null),600)},_=()=>{z.capture("meditation_exit",{duration_meditated:i-P(d),total_taps:P(c).length,level:0}),r("complete",{clickTimestamps:P(c),durationMeditated:i-P(d),completed:P(d)<5}),n()},g=()=>{console.log("Meditation complete! Click data:",P(c)),z.capture("meditation_completed",{duration:i,total_taps:P(c).length,level:0}),r("complete",{clickTimestamps:P(c),durationMeditated:i,completed:!0}),n()},b=()=>{const v=new(window.AudioContext||window.webkitAudioContext),y=v.createOscillator(),w=v.createGain();y.type="sine",y.frequency.setValueAtTime(880,v.currentTime),w.gain.setValueAtTime(.2,v.currentTime),y.connect(w),w.connect(v.destination),y.start(),setTimeout(()=>{y.stop()},100)},M=it(d,v=>{v<i&&v%10===0&&b()});return q(a,M,v=>s(11,v)),a.$$set=v=>{"nextStep"in v&&s(10,n=v.nextStep),"duration"in v&&s(0,i=v.duration)},[i,e,l,d,f,o,u,_,g,M,n]}class Yt extends K{constructor(t){super(),X(this,t,Wt,Gt,J,{nextStep:10,duration:0})}}function qt(a){let t,s="You completed your meditation distraction-free!";return{c(){t=k("p"),t.textContent=s,this.h()},l(e){t=x(e,"P",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-j87uf1"&&(t.textContent=s),this.h()},h(){m(t,"class","text-lg mt-4")},m(e,l){L(e,t,l)},p:G,d(e){e&&h(t)}}}function Jt(a){let t,s,e=ut(a[0].durationMeditated)+"",l,n,i=a[0].clickTimestamps.length+"",r,d,f,c,o,u,_;return{c(){t=k("p"),s=A("You meditated for "),l=A(e),n=A(" and recorded "),r=A(i),d=A(" distractions, spending "),f=A(a[1]),c=A("% of your meditation distracted."),o=O(),u=k("p"),_=A(a[2]),this.h()},l(g){t=x(g,"P",{class:!0});var b=C(t);s=R(b,"You meditated for "),l=R(b,e),n=R(b," and recorded "),r=R(b,i),d=R(b," distractions, spending "),f=R(b,a[1]),c=R(b,"% of your meditation distracted."),b.forEach(h),o=B(g),u=x(g,"P",{class:!0});var M=C(u);_=R(M,a[2]),M.forEach(h),this.h()},h(){m(t,"class","text-lg mt-4"),m(u,"class","text-lg font-mono mt-2")},m(g,b){L(g,t,b),p(t,s),p(t,l),p(t,n),p(t,r),p(t,d),p(t,f),p(t,c),L(g,o,b),L(g,u,b),p(u,_)},p(g,b){b&1&&e!==(e=ut(g[0].durationMeditated)+"")&&et(l,e),b&1&&i!==(i=g[0].clickTimestamps.length+"")&&et(r,i),b&2&&et(f,g[1]),b&4&&et(_,g[2])},d(g){g&&(h(t),h(o),h(u))}}}function Kt(a){let t,s,e="Great practice!",l,n,i,r,d="Share",f,c,o,u="Exit",_,g,b=`<p>Learn to meditate for real at 
			<a href="https://www.dhamma.org" target="_blank" class="text-blue-500 underline">dhamma.org ↗</a></p> <p class="mt-2">This app was made by Arjun, PM with 5 years experience. 
			Hire him to build your 0-1 consumer products! 
			<a href="https://www.linkedin.com/in/arjunkalburgi" target="_blank" class="text-blue-500 underline">View LinkedIn ↗</a></p>`,M,v;function y(E,S){return E[0].clickTimestamps.length>0?Jt:qt}let w=y(a),T=w(a);return{c(){t=k("div"),s=k("h2"),s.textContent=e,l=O(),T.c(),n=O(),i=k("div"),r=k("button"),r.textContent=d,f=O(),c=k("div"),o=k("button"),o.textContent=u,_=O(),g=k("div"),g.innerHTML=b,this.h()},l(E){t=x(E,"DIV",{class:!0});var S=C(t);s=x(S,"H2",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-1untj5h"&&(s.textContent=e),l=B(S),T.l(S),n=B(S),i=x(S,"DIV",{class:!0});var I=C(i);r=x(I,"BUTTON",{class:!0,"data-svelte-h":!0}),N(r)!=="svelte-1wlydhx"&&(r.textContent=d),I.forEach(h),f=B(S),c=x(S,"DIV",{class:!0});var H=C(c);o=x(H,"BUTTON",{class:!0,"data-svelte-h":!0}),N(o)!=="svelte-1t5v3tb"&&(o.textContent=u),H.forEach(h),_=B(S),g=x(S,"DIV",{class:!0,"data-svelte-h":!0}),N(g)!=="svelte-k92ud0"&&(g.innerHTML=b),S.forEach(h),this.h()},h(){m(s,"class","text-2xl font-bold"),m(r,"class","btn variant-filled px-4 py-2"),m(i,"class","mt-6 flex space-x-4"),m(o,"class","btn variant-outlined px-4 py-2"),m(c,"class","mt-6 flex space-x-4"),m(g,"class","absolute bottom-6 text-center text-sm text-gray-500"),m(t,"class","w-full h-full flex flex-col justify-center items-center p-6")},m(E,S){L(E,t,S),p(t,s),p(t,l),T.m(t,null),p(t,n),p(t,i),p(i,r),p(t,f),p(t,c),p(c,o),p(t,_),p(t,g),M||(v=[Y(r,"click",a[5]),Y(o,"click",a[6])],M=!0)},p(E,[S]){w===(w=y(E))&&T?T.p(E,S):(T.d(1),T=w(E),T&&(T.c(),T.m(t,n)))},i:G,o:G,d(E){E&&h(t),T.d(),M=!1,wt(v)}}}function Xt(a,t,s){let e,l,{closeModal:n}=t,{meditationResults:i}=t;const r=nt(i),d=it(r,u=>{if(!u.clickTimestamps)return 0;const _=new Set(u.clickTimestamps.map(b=>Math.floor(b))).size,g=Math.round(_/u.durationMeditated*100);return Math.min(100,Math.max(0,g))});q(a,d,u=>s(1,e=u));const f=it(d,u=>{const g=Math.round(u/100*20),b=20-g;return"▓".repeat(g)+"░".repeat(b)});q(a,f,u=>s(2,l=u));const c=()=>{navigator.share?(z.capture("results_shared",{total_taps:i.clickTimestamps.length,distraction_percentage:P(d),level:0}),navigator.share({text:`The Meditation Game App
I just finished a ${i.durationMeditated/60}-minute meditation with ${i.clickTimestamps.length} distractions.
${P(f)} ${P(d)}% distracted
Meditate here: https://www.arjunkalburgi.com/the-meditation-game/?utm_source=share`}).catch(u=>console.error("Sharing failed",u))):console.log("Web Share API not supported")},o=()=>{z.capture("results_exit",{shared:navigator.share!==void 0}),n()};return a.$$set=u=>{"closeModal"in u&&s(7,n=u.closeModal),"meditationResults"in u&&s(0,i=u.meditationResults)},[i,e,l,d,f,c,o,n]}class Zt extends K{constructor(t){super(),X(this,t,Xt,Kt,J,{closeModal:7,meditationResults:0})}}function xt(a){let t,s,e,l,n,i,r;const d=[ee,te,Qt,Ft],f=[];function c(o,u){return o[1]===1?0:o[1]===2?1:o[1]===3?2:3}return e=c(a),l=f[e]=d[e](a),{c(){t=k("div"),s=k("div"),l.c(),this.h()},l(o){t=x(o,"DIV",{class:!0});var u=C(t);s=x(u,"DIV",{class:!0});var _=C(s);l.l(_),_.forEach(h),u.forEach(h),this.h()},h(){m(s,"class","fixed inset-0 bg-white flex flex-col items-center justify-center"),m(t,"class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50")},m(o,u){L(o,t,u),p(t,s),f[e].m(s,null),r=!0},p(o,u){let _=e;e=c(o),e===_?f[e].p(o,u):(st(),j(f[_],1,1,()=>{f[_]=null}),lt(),l=f[e],l?l.p(o,u):(l=f[e]=d[e](o),l.c()),$(l,1),l.m(s,null))},i(o){r||($(l),o&&U(()=>{r&&(n||(n=D(s,V,{duration:500},!0)),n.run(1))}),o&&U(()=>{r&&(i||(i=D(t,V,{duration:500},!0)),i.run(1))}),r=!0)},o(o){j(l),o&&(n||(n=D(s,V,{duration:500},!1)),n.run(0)),o&&(i||(i=D(t,V,{duration:500},!1)),i.run(0)),r=!1},d(o){o&&h(t),f[e].d(),o&&n&&n.end(),o&&i&&i.end()}}}function Ft(a){let t,s,e,l;return s=new Zt({props:{closeModal:a[3],meditationResults:a[2]}}),{c(){t=k("div"),tt(s.$$.fragment),this.h()},l(n){t=x(n,"DIV",{class:!0});var i=C(t);Q(s.$$.fragment,i),i.forEach(h),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(n,i){L(n,t,i),F(s,t,null),l=!0},p(n,i){const r={};i&4&&(r.meditationResults=n[2]),s.$set(r)},i(n){l||($(s.$$.fragment,n),n&&U(()=>{l&&(e||(e=D(t,V,{duration:300},!0)),e.run(1))}),l=!0)},o(n){j(s.$$.fragment,n),n&&(e||(e=D(t,V,{duration:300},!1)),e.run(0)),l=!1},d(n){n&&h(t),Z(s),n&&e&&e.end()}}}function Qt(a){let t,s,e,l;return s=new Yt({props:{duration:Tt,nextStep:a[5]}}),s.$on("complete",a[6]),{c(){t=k("div"),tt(s.$$.fragment),this.h()},l(n){t=x(n,"DIV",{class:!0});var i=C(t);Q(s.$$.fragment,i),i.forEach(h),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(n,i){L(n,t,i),F(s,t,null),l=!0},p:G,i(n){l||($(s.$$.fragment,n),n&&U(()=>{l&&(e||(e=D(t,V,{duration:300},!0)),e.run(1))}),l=!0)},o(n){j(s.$$.fragment,n),n&&(e||(e=D(t,V,{duration:300},!1)),e.run(0)),l=!1},d(n){n&&h(t),Z(s),n&&e&&e.end()}}}function te(a){let t,s,e,l;return s=new zt({props:{nextStep:a[5],closeModal:a[3]}}),{c(){t=k("div"),tt(s.$$.fragment),this.h()},l(n){t=x(n,"DIV",{class:!0});var i=C(t);Q(s.$$.fragment,i),i.forEach(h),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(n,i){L(n,t,i),F(s,t,null),l=!0},p:G,i(n){l||($(s.$$.fragment,n),n&&U(()=>{l&&(e||(e=D(t,V,{duration:300},!0)),e.run(1))}),l=!0)},o(n){j(s.$$.fragment,n),n&&(e||(e=D(t,V,{duration:300},!1)),e.run(0)),l=!1},d(n){n&&h(t),Z(s),n&&e&&e.end()}}}function ee(a){let t,s,e,l;return s=new Nt({props:{nextStep:a[5],closeModal:a[3]}}),{c(){t=k("div"),tt(s.$$.fragment),this.h()},l(n){t=x(n,"DIV",{class:!0});var i=C(t);Q(s.$$.fragment,i),i.forEach(h),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(n,i){L(n,t,i),F(s,t,null),l=!0},p:G,i(n){l||($(s.$$.fragment,n),n&&U(()=>{l&&(e||(e=D(t,V,{duration:300},!0)),e.run(1))}),l=!0)},o(n){j(s.$$.fragment,n),n&&(e||(e=D(t,V,{duration:300},!1)),e.run(0)),l=!1},d(n){n&&h(t),Z(s),n&&e&&e.end()}}}function ne(a){let t,s,e=a[0]&&xt(a);return{c(){e&&e.c(),t=dt()},l(l){e&&e.l(l),t=dt()},m(l,n){e&&e.m(l,n),L(l,t,n),s=!0},p(l,[n]){l[0]?e?(e.p(l,n),n&1&&$(e,1)):(e=xt(l),e.c(),$(e,1),e.m(t.parentNode,t)):e&&(st(),j(e,1,1,()=>{e=null}),lt())},i(l){s||($(e),s=!0)},o(l){j(e),s=!1},d(l){l&&h(t),e&&e.d(l)}}}let Tt=120;function se(a,t,s){let{show:e=!1}=t,l=1,n;const i=()=>{s(0,e=!1),s(1,l=1)},r=c=>{const{clickTimestamps:o,durationMeditated:u,completed:_}=c.detail,b={user_id:Bt(),created_at:new Date(new Date().getTime()-u*1e3).toISOString(),level:0,duration_meditated:u,duration_planned:Tt,total_clicks:o.length,click_timestamps:o,completed:_},M=JSON.parse(localStorage.getItem("meditation_sessions")||"[]");M.push(b),localStorage.setItem("meditation_sessions",JSON.stringify(M)),s(2,n=c.detail),d()},d=()=>setTimeout(()=>s(1,l++,l),300),f=c=>r(c);return a.$$set=c=>{"show"in c&&s(0,e=c.show)},[e,l,n,i,r,d,f]}class le extends K{constructor(t){super(),X(this,t,se,ne,J,{show:0})}}function ie(a){let t,s,e,l="Welcome to The Meditation Game!",n,i,r="Learn how to meditate through gameplay",d,f,c,o="Start meditation",u,_,g=`<p>Learn to meditate for real at 
			<a href="https://www.dhamma.org" target="_blank" class="text-blue-500 underline">dhamma.org ↗</a></p> <p class="mt-2">This app was made by Arjun Kalburgi, PM with 5 years experience. 
			Hire him to build your 0-1 consumer products! 
			<a href="https://www.linkedin.com/in/arjunkalburgi" target="_blank" class="text-blue-500 underline">View LinkedIn ↗</a></p>`,b,M,v,y,w,T;function E(I){a[2](I)}let S={};return a[0]!==void 0&&(S.show=a[0]),M=new le({props:S}),Lt.push(()=>jt(M,"show",E)),{c(){t=k("div"),s=k("div"),e=k("h2"),e.textContent=l,n=O(),i=k("p"),i.textContent=r,d=O(),f=k("div"),c=k("button"),c.textContent=o,u=O(),_=k("div"),_.innerHTML=g,b=O(),tt(M.$$.fragment),this.h()},l(I){t=x(I,"DIV",{class:!0});var H=C(t);s=x(H,"DIV",{class:!0});var W=C(s);e=x(W,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-pdov40"&&(e.textContent=l),n=B(W),i=x(W,"P",{"data-svelte-h":!0}),N(i)!=="svelte-9lckun"&&(i.textContent=r),d=B(W),f=x(W,"DIV",{class:!0});var ft=C(f);c=x(ft,"BUTTON",{class:!0,"data-svelte-h":!0}),N(c)!=="svelte-vb0hk2"&&(c.textContent=o),ft.forEach(h),W.forEach(h),u=B(H),_=x(H,"DIV",{class:!0,"data-svelte-h":!0}),N(_)!=="svelte-1iyjdy7"&&(_.innerHTML=g),H.forEach(h),b=B(I),Q(M.$$.fragment,I),this.h()},h(){m(e,"class","h2"),m(c,"class","btn variant-filled"),m(f,"class","flex justify-center space-x-2"),m(s,"class","space-y-10 text-center flex flex-col items-center"),m(_,"class","absolute bottom-6 text-center text-sm text-gray-500"),m(t,"class","container h-full mx-auto flex justify-center items-center svelte-v1my5k")},m(I,H){L(I,t,H),p(t,s),p(s,e),p(s,n),p(s,i),p(s,d),p(s,f),p(f,c),p(t,u),p(t,_),L(I,b,H),F(M,I,H),y=!0,w||(T=Y(c,"click",a[1]),w=!0)},p(I,[H]){const W={};!v&&H&1&&(v=!0,W.show=I[0],$t(()=>v=!1)),M.$set(W)},i(I){y||($(M.$$.fragment,I),y=!0)},o(I){j(M.$$.fragment,I),y=!1},d(I){I&&(h(t),h(b)),Z(M,I),w=!1,T()}}}function re(a,t,s){let e=!1;const l=()=>s(0,e=!0);function n(i){e=i,s(0,e)}return[e,l,n]}class fe extends K{constructor(t){super(),X(this,t,re,ie,J,{})}}export{fe as component};
