import{L as Ut,s as Z,d as h,Z as St,c as I,e as _,w as m,f as g,g as E,j as R,k as b,l as $,q as Dt,n as W,M as q,E as F,_ as A,$ as Ot,a0 as jt,b as it,i as Rt,h as P,t as H,a1 as rt,a2 as at,a3 as Nt,m as ct,a4 as $t,y as pt,a5 as _t,r as Vt,x as ot,z as et,o as gt,a6 as bt,a7 as Bt}from"../chunks/BEAPTuZN.js";import{S as Q,i as tt,t as B,a as N,g as lt,c as st,f as V,h as vt,d as G,m as X,e as J,b as K}from"../chunks/CQJs_u0R.js";import{p as z,g as Pt}from"../chunks/DV7_3WHn.js";import{d as xt,w as ut}from"../chunks/Dg-66fkv.js";function ft(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function L(i,{delay:t=0,duration:l=400,easing:e=Ut}={}){const s=+getComputedStyle(i).opacity;return{delay:t,duration:l,easing:e,css:n=>`opacity: ${n*s}`}}var dt=(i=>(i[i.ONE_MINUTE=60]="ONE_MINUTE",i[i.TWO_MINUTES=120]="TWO_MINUTES",i[i.FIVE_MINUTES=300]="FIVE_MINUTES",i[i.TEN_MINUTES=600]="TEN_MINUTES",i[i.THIRTY_MINUTES=1800]="THIRTY_MINUTES",i[i.SIXTY_MINUTES=3600]="SIXTY_MINUTES",i))(dt||{});const mt={60:"1 minute",120:"2 minutes",300:"5 minutes",600:"10 minutes",1800:"30 minutes",3600:"60 minutes"};function wt(i,t,l){const e=i.slice();return e[6]=t[l],e}function kt(i){let t,l="Exit Meditation",e,s,n,r;return{c(){t=b("button"),t.textContent=l,this.h()},l(o){t=g(o,"BUTTON",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-t4g94n"&&(t.textContent=l),this.h()},h(){m(t,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-filled px-4 py-2")},m(o,d){I(o,t,d),s=!0,n||(r=F(t,"click",i[4]),n=!0)},p:W,i(o){s||(o&&q(()=>{s&&(e||(e=V(t,L,{},!0)),e.run(1))}),s=!0)},o(o){o&&(e||(e=V(t,L,{},!1)),e.run(0)),s=!1},d(o){o&&h(t),o&&e&&e.end(),n=!1,r()}}}function Tt(i){let t,l,e=i[6]+"",s,n;return{c(){t=b("p"),l=new jt(!1),this.h()},l(r){t=g(r,"P",{class:!0});var o=E(t);l=Ot(o,!1),o.forEach(h),this.h()},h(){l.a=null,m(t,"class","text-lg max-w-sm")},m(r,o){I(r,t,o),l.m(e,t),n=!0},p(r,o){(!n||o&4)&&e!==(e=r[6]+"")&&l.p(e)},i(r){n||(r&&q(()=>{n&&(s||(s=V(t,L,{},!0)),s.run(1))}),n=!0)},o(r){r&&(s||(s=V(t,L,{},!1)),s.run(0)),n=!1},d(r){r&&h(t),r&&s&&s.end()}}}function Ct(i){let t,l="Start meditation countdown",e,s,n,r,o=mt[i[1]]+"",d,a,f,c;return{c(){t=b("button"),t.textContent=l,s=$(),n=b("i"),r=H("Meditating for "),d=H(o),this.h()},l(u){t=g(u,"BUTTON",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-71gbpm"&&(t.textContent=l),s=R(u),n=g(u,"I",{class:!0});var p=E(n);r=P(p,"Meditating for "),d=P(p,o),p.forEach(h),this.h()},h(){m(t,"class","btn variant-filled px-4 py-2 mt-4"),m(n,"class","text-sm text-gray-500")},m(u,p){I(u,t,p),I(u,s,p),I(u,n,p),_(n,r),_(n,d),a=!0,f||(c=F(t,"click",function(){Rt(i[0])&&i[0].apply(this,arguments)}),f=!0)},p(u,p){i=u,(!a||p&2)&&o!==(o=mt[i[1]]+"")&&it(d,o)},i(u){a||(u&&q(()=>{a&&(e||(e=V(t,L,{},!0)),e.run(1))}),a=!0)},o(u){u&&(e||(e=V(t,L,{},!1)),e.run(0)),a=!1},d(u){u&&(h(t),h(s),h(n)),u&&e&&e.end(),f=!1,c()}}}function Ht(i){let t,l,e,s,n=i[2]>=3&&kt(i),r=ft(i[3].slice(0,i[2])),o=[];for(let f=0;f<r.length;f+=1)o[f]=Tt(wt(i,r,f));const d=f=>B(o[f],1,1,()=>{o[f]=null});let a=i[2]>=5&&Ct(i);return{c(){t=b("div"),n&&n.c(),l=$();for(let f=0;f<o.length;f+=1)o[f].c();e=$(),a&&a.c(),this.h()},l(f){t=g(f,"DIV",{class:!0});var c=E(t);n&&n.l(c),l=R(c);for(let u=0;u<o.length;u+=1)o[u].l(c);e=R(c),a&&a.l(c),c.forEach(h),this.h()},h(){m(t,"class","w-full h-full flex flex-col justify-center items-center px-6 space-y-6 text-center relative")},m(f,c){I(f,t,c),n&&n.m(t,null),_(t,l);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);_(t,e),a&&a.m(t,null),s=!0},p(f,[c]){if(f[2]>=3?n?(n.p(f,c),c&4&&N(n,1)):(n=kt(f),n.c(),N(n,1),n.m(t,l)):n&&(lt(),B(n,1,1,()=>{n=null}),st()),c&12){r=ft(f[3].slice(0,f[2]));let u;for(u=0;u<r.length;u+=1){const p=wt(f,r,u);o[u]?(o[u].p(p,c),N(o[u],1)):(o[u]=Tt(p),o[u].c(),N(o[u],1),o[u].m(t,e))}for(lt(),u=r.length;u<o.length;u+=1)d(u);st()}f[2]>=5?a?(a.p(f,c),c&4&&N(a,1)):(a=Ct(f),a.c(),N(a,1),a.m(t,null)):a&&(lt(),B(a,1,1,()=>{a=null}),st())},i(f){if(!s){N(n);for(let c=0;c<r.length;c+=1)N(o[c]);N(a),s=!0}},o(f){B(n),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)B(o[c]);B(a),s=!1},d(f){f&&h(t),n&&n.d(),St(o,f),a&&a.d()}}}function At(i,t,l){let{nextStep:e}=t,{closeModal:s}=t,{duration:n}=t;const r=["1. Feel the air move through your nose as you breathe","2. <b>Tap anywhere on the screen</b> when you lose focus","3. <b>Exit meditation</b> to end early","4. Relax and have fun"];let o=0;Dt(()=>{z.capture("instructions_viewed");const a=setInterval(()=>{o<r.length+1?l(2,o+=1):clearInterval(a)},1e3)});const d=()=>{z.capture("instructions_exit",{instructions_viewed:o,level:0}),s()};return i.$$set=a=>{"nextStep"in a&&l(0,e=a.nextStep),"closeModal"in a&&l(5,s=a.closeModal),"duration"in a&&l(1,n=a.duration)},[e,n,o,r,d,s]}class Yt extends Q{constructor(t){super(),tt(this,t,At,Ht,Z,{nextStep:0,closeModal:5,duration:1})}}const ht=i=>{const t=i%60;return(i/60>1?`${Math.floor(i/60)}:`:"")+`${t<10?"0":""}${t}`};function Wt(i){let t,l,e,s,n,r;return{c(){t=at("svg"),l=at("circle"),e=at("circle"),n=at("text"),r=H(i[1]),this.h()},l(o){t=rt(o,"svg",{class:!0,viewBox:!0});var d=E(t);l=rt(d,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),E(l).forEach(h),e=rt(d,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,transform:!0}),E(e).forEach(h),n=rt(d,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0,fill:!0});var a=E(n);r=P(a,i[1]),a.forEach(h),d.forEach(h),this.h()},h(){m(l,"cx","50"),m(l,"cy","50"),m(l,"r","40"),m(l,"stroke","gray"),m(l,"stroke-width","5"),m(l,"fill","none"),m(e,"cx","50"),m(e,"cy","50"),m(e,"r","40"),m(e,"stroke","blue"),m(e,"stroke-width","5"),m(e,"fill","none"),m(e,"stroke-dasharray","251.2"),m(e,"stroke-dashoffset",s=251.2*i[0]),m(e,"transform","rotate(-90 50 50)"),m(n,"x","50"),m(n,"y","55"),m(n,"font-size","14"),m(n,"text-anchor","middle"),m(n,"fill","black"),m(t,"class","w-32 h-32"),m(t,"viewBox","0 0 100 100")},m(o,d){I(o,t,d),_(t,l),_(t,e),_(t,n),_(n,r)},p(o,[d]){d&1&&s!==(s=251.2*o[0])&&m(e,"stroke-dashoffset",s),d&2&&it(r,o[1])},i:W,o:W,d(o){o&&h(t)}}}const qt="/sounds/gong.mp3";function zt(i,t,l){let e,s,{duration:n}=t,{startTimestamp:r}=t;const o=Nt();let d=ut(n),a=null,f,c=new Audio(qt);const u=xt(d,v=>ht(v));ct(i,u,v=>l(1,s=v));const p=xt(d,v=>v/n);ct(i,p,v=>l(0,e=v));const x=()=>{clearInterval(f),c.play(),o("complete")},y=async v=>{try{if(!("wakeLock"in navigator))return;v?a=await navigator.wakeLock.request("screen"):a&&(await a.release(),a=null)}catch(k){console.error(`Wake Lock ${v?"request":"release"} failed:`,k)}};return Dt(()=>{l(4,r=Date.now()),f=setInterval(()=>{d.update(v=>v>0?v-1:(x(),0))},1e3),y(!0)}),$t(()=>{clearInterval(f),y(!1)}),i.$$set=v=>{"duration"in v&&l(5,n=v.duration),"startTimestamp"in v&&l(4,r=v.startTimestamp)},[e,s,u,p,r,n]}class Lt extends Q{constructor(t){super(),tt(this,t,zt,Wt,Z,{duration:5,startTimestamp:4})}}function Ft(i){let t,l,e,s="Your meditation starts in:",n,r,o,d,a,f="Exit Meditation",c,u,p,x;function y(k){i[5](k)}let v={duration:Gt};return i[0]!==void 0&&(v.startTimestamp=i[0]),r=new Lt({props:v}),pt.push(()=>vt(r,"startTimestamp",y)),r.$on("complete",i[1]),{c(){t=b("div"),l=b("div"),e=b("p"),e.textContent=s,n=$(),K(r.$$.fragment),d=$(),a=b("button"),a.textContent=f,this.h()},l(k){t=g(k,"DIV",{class:!0});var M=E(t);l=g(M,"DIV",{class:!0});var U=E(l);e=g(U,"P",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1tp8zka"&&(e.textContent=s),n=R(U),J(r.$$.fragment,U),U.forEach(h),d=R(M),a=g(M,"BUTTON",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-hy6wnc"&&(a.textContent=f),M.forEach(h),this.h()},h(){m(e,"class","text-lg mt-4 text-center"),m(l,"class","absolute flex flex-col items-center pointer-events-auto"),m(a,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-outlined px-4 py-2 pointer-events-auto"),m(t,"class","w-full h-full flex flex-col items-center justify-center relative pointer-events-none")},m(k,M){I(k,t,M),_(t,l),_(l,e),_(l,n),X(r,l,null),_(t,d),_(t,a),u=!0,p||(x=F(a,"click",i[2]),p=!0)},p(k,[M]){const U={};!o&&M&1&&(o=!0,U.startTimestamp=k[0],_t(()=>o=!1)),r.$set(U)},i(k){u||(N(r.$$.fragment,k),k&&q(()=>{u&&(c||(c=V(a,L,{},!0)),c.run(1))}),u=!0)},o(k){B(r.$$.fragment,k),k&&(c||(c=V(a,L,{},!1)),c.run(0)),u=!1},d(k){k&&h(t),G(r),k&&c&&c.end(),p=!1,x()}}}const Gt=10;function Xt(i,t,l){let{nextStep:e}=t,{closeModal:s}=t,n=0;z.capture("countdown_started",{level:0});const r=()=>{z.capture("countdown_complete",{level:0}),e()},o=()=>{z.capture("countdown_exit",{duration_counteddown:(Date.now()-n)/1e3,level:0}),s()};function d(a){n=a,l(0,n)}return i.$$set=a=>{"nextStep"in a&&l(3,e=a.nextStep),"closeModal"in a&&l(4,s=a.closeModal)},[n,r,o,e,s,d]}class Jt extends Q{constructor(t){super(),tt(this,t,Xt,Ft,Z,{nextStep:3,closeModal:4})}}function Kt(i){let t,l;return{c(){t=b("br"),l=b("br")},l(e){t=g(e,"BR",{}),l=g(e,"BR",{})},m(e,s){I(e,t,s),I(e,l,s)},p:W,d(e){e&&(h(t),h(l))}}}function Zt(i){let t,l,e;return{c(){t=b("p"),l=H(i[2]),e=H(" distraction"),this.h()},l(s){t=g(s,"P",{class:!0});var n=E(t);l=P(n,i[2]),e=P(n," distraction"),n.forEach(h),this.h()},h(){m(t,"class","text-lg mt-4 text-center")},m(s,n){I(s,t,n),_(t,l),_(t,e)},p(s,n){n&4&&it(l,s[2])},d(s){s&&h(t)}}}function Qt(i){let t,l,e;return{c(){t=b("p"),l=H(i[2]),e=H(" distractions"),this.h()},l(s){t=g(s,"P",{class:!0});var n=E(t);l=P(n,i[2]),e=P(n," distractions"),n.forEach(h),this.h()},h(){m(t,"class","text-lg mt-4 text-center")},m(s,n){I(s,t,n),_(t,l),_(t,e)},p(s,n){n&4&&it(l,s[2])},d(s){s&&h(t)}}}function Et(i){let t;return{c(){t=b("div"),this.h()},l(l){t=g(l,"DIV",{class:!0,style:!0}),E(t).forEach(h),this.h()},h(){m(t,"class","ripple svelte-1wv6db6"),ot(t,"top",i[3].y+"px"),ot(t,"left",i[3].x+"px")},m(l,e){I(l,t,e)},p(l,e){e&8&&ot(t,"top",l[3].y+"px"),e&8&&ot(t,"left",l[3].x+"px")},d(l){l&&h(t)}}}function te(i){let t,l,e,s,n,r,o="Tap anywhere on the screen to record your distractions",d,a,f,c,u,p="Exit Meditation",x,y,v,k;function M(C){i[10](C)}let U={duration:i[0]};i[1]!==void 0&&(U.startTimestamp=i[1]),e=new Lt({props:U}),pt.push(()=>vt(e,"startTimestamp",M)),e.$on("complete",i[8]);function O(C,w){return C[2]>1?Qt:C[2]==1?Zt:Kt}let D=O(i),T=D(i),j=i[3]&&Et(i);return{c(){t=b("div"),l=b("div"),K(e.$$.fragment),n=$(),r=b("p"),r.textContent=o,d=$(),T.c(),a=$(),f=b("button"),j&&j.c(),c=$(),u=b("button"),u.textContent=p,this.h()},l(C){t=g(C,"DIV",{class:!0});var w=E(t);l=g(w,"DIV",{class:!0});var S=E(l);J(e.$$.fragment,S),n=R(S),r=g(S,"P",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-1uyhl39"&&(r.textContent=o),d=R(S),T.l(S),S.forEach(h),a=R(w),f=g(w,"BUTTON",{class:!0});var Y=E(f);j&&j.l(Y),Y.forEach(h),c=R(w),u=g(w,"BUTTON",{class:!0,"data-svelte-h":!0}),A(u)!=="svelte-hy6wnc"&&(u.textContent=p),w.forEach(h),this.h()},h(){m(r,"class","text-lg mt-4 text-center"),m(l,"class","absolute flex flex-col items-center pointer-events-auto p-6"),m(f,"class","absolute inset-0 w-full h-full bg-transparent pointer-events-auto relative overflow-hidden"),m(u,"class","absolute top-4 left-1/2 transform -translate-x-1/2 btn variant-outlined px-4 py-2 pointer-events-auto"),m(t,"class","w-full h-full flex flex-col items-center justify-center relative pointer-events-none")},m(C,w){I(C,t,w),_(t,l),X(e,l,null),_(l,n),_(l,r),_(l,d),T.m(l,null),_(t,a),_(t,f),j&&j.m(f,null),_(t,c),_(t,u),y=!0,v||(k=[F(f,"click",i[6]),F(u,"click",i[7])],v=!0)},p(C,[w]){const S={};w&1&&(S.duration=C[0]),!s&&w&2&&(s=!0,S.startTimestamp=C[1],_t(()=>s=!1)),e.$set(S),D===(D=O(C))&&T?T.p(C,w):(T.d(1),T=D(C),T&&(T.c(),T.m(l,null))),C[3]?j?j.p(C,w):(j=Et(C),j.c(),j.m(f,null)):j&&(j.d(1),j=null)},i(C){y||(N(e.$$.fragment,C),C&&q(()=>{y&&(x||(x=V(u,L,{},!0)),x.run(1))}),y=!0)},o(C){B(e.$$.fragment,C),C&&(x||(x=V(u,L,{},!1)),x.run(0)),y=!1},d(C){C&&h(t),G(e),T.d(),j&&j.d(),C&&x&&x.end(),v=!1,Vt(k)}}}function ee(i,t,l){let e,s,{nextStep:n}=t,{duration:r}=t;const o=Nt();let d=0;const a=ut(0);ct(i,a,v=>l(2,e=v));const f=ut([]),c=ut(null);ct(i,c,v=>l(3,s=v));const u=v=>{const k=(Date.now()-d)/1e3;a.update(T=>T+1),f.update(T=>[...T,k]),console.log(`Click ${et(a)} recorded at ${k} seconds`),z.capture("game_tap",{timestamp:k,total_taps:et(a),level:0,button:"distracted"});const{clientX:M,clientY:U,currentTarget:O}=v,D=O.getBoundingClientRect();c.set({x:M-D.left,y:U-D.top}),setTimeout(()=>c.set(null),600)},p=()=>{const v=(Date.now()-d)/1e3;z.capture("meditation_exit",{duration_meditated:v,total_taps:et(f).length,level:0}),o("complete",{clickTimestamps:et(f),durationMeditated:v,completed:r-v<5}),n()},x=()=>{console.log("Meditation complete! Click data:",et(f)),z.capture("meditation_completed",{duration:r,total_taps:et(f).length,level:0}),o("complete",{clickTimestamps:et(f),durationMeditated:r,completed:!0}),n()};function y(v){d=v,l(1,d)}return i.$$set=v=>{"nextStep"in v&&l(9,n=v.nextStep),"duration"in v&&l(0,r=v.duration)},[r,d,e,s,a,c,u,p,x,n,y]}class ne extends Q{constructor(t){super(),tt(this,t,ee,te,Z,{nextStep:9,duration:0})}}function le(i){let t,l="You completed your meditation distraction-free!";return{c(){t=b("p"),t.textContent=l,this.h()},l(e){t=g(e,"P",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-j87uf1"&&(t.textContent=l),this.h()},h(){m(t,"class","text-lg mt-4")},m(e,s){I(e,t,s)},p:W,d(e){e&&h(t)}}}function se(i){let t,l,e=ht(i[0].durationMeditated)+"",s,n,r,o,d,a,f,c,u;return{c(){t=b("p"),l=H("You meditated for "),s=H(e),n=H(" and recorded "),r=H(i[1]),o=H(" distractions."),d=$(),a=b("p"),f=H("That’s about "),c=H(i[2]),u=H(" per minute."),this.h()},l(p){t=g(p,"P",{class:!0});var x=E(t);l=P(x,"You meditated for "),s=P(x,e),n=P(x," and recorded "),r=P(x,i[1]),o=P(x," distractions."),x.forEach(h),d=R(p),a=g(p,"P",{class:!0});var y=E(a);f=P(y,"That’s about "),c=P(y,i[2]),u=P(y," per minute."),y.forEach(h),this.h()},h(){m(t,"class","text-lg mt-4"),m(a,"class","text-lg mt-2")},m(p,x){I(p,t,x),_(t,l),_(t,s),_(t,n),_(t,r),_(t,o),I(p,d,x),I(p,a,x),_(a,f),_(a,c),_(a,u)},p(p,x){x&1&&e!==(e=ht(p[0].durationMeditated)+"")&&it(s,e)},d(p){p&&(h(t),h(d),h(a))}}}function ie(i){let t,l,e="Great practice!",s,n,r,o,d="Share",a,f,c,u="Exit",p,x,y=`<p>Learn to meditate for real at 
			<a href="https://www.dhamma.org" target="_blank" class="text-blue-500 underline">dhamma.org ↗</a></p> <p class="mt-2">This app was made by Arjun, PM with 5 years experience. 
			Hire him to build your 0-1 consumer products! 
			<a href="https://www.linkedin.com/in/arjunkalburgi" target="_blank" class="text-blue-500 underline">View LinkedIn ↗</a></p>`,v,k;function M(D,T){return D[0].clickTimestamps.length>0?se:le}let U=M(i),O=U(i);return{c(){t=b("div"),l=b("h2"),l.textContent=e,s=$(),O.c(),n=$(),r=b("div"),o=b("button"),o.textContent=d,a=$(),f=b("div"),c=b("button"),c.textContent=u,p=$(),x=b("div"),x.innerHTML=y,this.h()},l(D){t=g(D,"DIV",{class:!0});var T=E(t);l=g(T,"H2",{class:!0,"data-svelte-h":!0}),A(l)!=="svelte-1untj5h"&&(l.textContent=e),s=R(T),O.l(T),n=R(T),r=g(T,"DIV",{class:!0});var j=E(r);o=g(j,"BUTTON",{class:!0,"data-svelte-h":!0}),A(o)!=="svelte-1wlydhx"&&(o.textContent=d),j.forEach(h),a=R(T),f=g(T,"DIV",{class:!0});var C=E(f);c=g(C,"BUTTON",{class:!0,"data-svelte-h":!0}),A(c)!=="svelte-1t5v3tb"&&(c.textContent=u),C.forEach(h),p=R(T),x=g(T,"DIV",{class:!0,"data-svelte-h":!0}),A(x)!=="svelte-k92ud0"&&(x.innerHTML=y),T.forEach(h),this.h()},h(){m(l,"class","text-2xl font-bold"),m(o,"class","btn variant-filled px-4 py-2"),m(r,"class","mt-6 flex space-x-4"),m(c,"class","btn variant-outlined px-4 py-2"),m(f,"class","mt-6 flex space-x-4"),m(x,"class","absolute bottom-6 text-center text-sm text-gray-500"),m(t,"class","w-full h-full flex flex-col justify-center items-center p-6")},m(D,T){I(D,t,T),_(t,l),_(t,s),O.m(t,null),_(t,n),_(t,r),_(r,o),_(t,a),_(t,f),_(f,c),_(t,p),_(t,x),v||(k=[F(o,"click",i[3]),F(c,"click",i[4])],v=!0)},p(D,[T]){U===(U=M(D))&&O?O.p(D,T):(O.d(1),O=U(D),O&&(O.c(),O.m(t,n)))},i:W,o:W,d(D){D&&h(t),O.d(),v=!1,Vt(k)}}}function re(i,t,l){let{closeModal:e}=t,{meditationResults:s}=t;const n=s.clickTimestamps.length,r=s.durationMeditated/s.clickTimestamps.length,o=()=>{navigator.share?(z.capture("results_shared",{total_taps:n,distractionRate:r,level:0}),navigator.share({text:`The Meditation Game App
I just finished a ${s.durationMeditated/60}-minute meditation with ${n} distractions.
That’s about ${r} per minute.
Meditate here: https://www.arjunkalburgi.com/the-meditation-game/?utm_source=share`}).catch(a=>console.error("Sharing failed",a))):console.log("Web Share API not supported")},d=()=>{z.capture("results_exit",{shared:navigator.share!==void 0}),e()};return i.$$set=a=>{"closeModal"in a&&l(5,e=a.closeModal),"meditationResults"in a&&l(0,s=a.meditationResults)},[s,n,r,o,d,e]}class ae extends Q{constructor(t){super(),tt(this,t,re,ie,Z,{closeModal:5,meditationResults:0})}}function yt(i){let t,l,e,s,n,r,o;const d=[fe,ce,ue,oe],a=[];function f(c,u){return c[2]===1?0:c[2]===2?1:c[2]===3?2:3}return e=f(i),s=a[e]=d[e](i),{c(){t=b("div"),l=b("div"),s.c(),this.h()},l(c){t=g(c,"DIV",{class:!0});var u=E(t);l=g(u,"DIV",{class:!0});var p=E(l);s.l(p),p.forEach(h),u.forEach(h),this.h()},h(){m(l,"class","fixed inset-0 bg-white flex flex-col items-center justify-center"),m(t,"class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50")},m(c,u){I(c,t,u),_(t,l),a[e].m(l,null),o=!0},p(c,u){let p=e;e=f(c),e===p?a[e].p(c,u):(lt(),B(a[p],1,1,()=>{a[p]=null}),st(),s=a[e],s?s.p(c,u):(s=a[e]=d[e](c),s.c()),N(s,1),s.m(l,null))},i(c){o||(N(s),c&&q(()=>{o&&(n||(n=V(l,L,{duration:500},!0)),n.run(1))}),c&&q(()=>{o&&(r||(r=V(t,L,{duration:500},!0)),r.run(1))}),o=!0)},o(c){B(s),c&&(n||(n=V(l,L,{duration:500},!1)),n.run(0)),c&&(r||(r=V(t,L,{duration:500},!1)),r.run(0)),o=!1},d(c){c&&h(t),a[e].d(),c&&n&&n.end(),c&&r&&r.end()}}}function oe(i){let t,l,e,s;return l=new ae({props:{closeModal:i[4],meditationResults:i[3]}}),{c(){t=b("div"),K(l.$$.fragment),this.h()},l(n){t=g(n,"DIV",{class:!0});var r=E(t);J(l.$$.fragment,r),r.forEach(h),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(n,r){I(n,t,r),X(l,t,null),s=!0},p(n,r){const o={};r&8&&(o.meditationResults=n[3]),l.$set(o)},i(n){s||(N(l.$$.fragment,n),n&&q(()=>{s&&(e||(e=V(t,L,{duration:300},!0)),e.run(1))}),s=!0)},o(n){B(l.$$.fragment,n),n&&(e||(e=V(t,L,{duration:300},!1)),e.run(0)),s=!1},d(n){n&&h(t),G(l),n&&e&&e.end()}}}function ue(i){let t,l,e,s;return l=new ne({props:{duration:i[1],nextStep:i[6]}}),l.$on("complete",i[7]),{c(){t=b("div"),K(l.$$.fragment),this.h()},l(n){t=g(n,"DIV",{class:!0});var r=E(t);J(l.$$.fragment,r),r.forEach(h),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(n,r){I(n,t,r),X(l,t,null),s=!0},p(n,r){const o={};r&2&&(o.duration=n[1]),l.$set(o)},i(n){s||(N(l.$$.fragment,n),n&&q(()=>{s&&(e||(e=V(t,L,{duration:300},!0)),e.run(1))}),s=!0)},o(n){B(l.$$.fragment,n),n&&(e||(e=V(t,L,{duration:300},!1)),e.run(0)),s=!1},d(n){n&&h(t),G(l),n&&e&&e.end()}}}function ce(i){let t,l,e,s;return l=new Jt({props:{nextStep:i[6],closeModal:i[4]}}),{c(){t=b("div"),K(l.$$.fragment),this.h()},l(n){t=g(n,"DIV",{class:!0});var r=E(t);J(l.$$.fragment,r),r.forEach(h),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(n,r){I(n,t,r),X(l,t,null),s=!0},p:W,i(n){s||(N(l.$$.fragment,n),n&&q(()=>{s&&(e||(e=V(t,L,{duration:300},!0)),e.run(1))}),s=!0)},o(n){B(l.$$.fragment,n),n&&(e||(e=V(t,L,{duration:300},!1)),e.run(0)),s=!1},d(n){n&&h(t),G(l),n&&e&&e.end()}}}function fe(i){let t,l,e,s;return l=new Yt({props:{nextStep:i[6],duration:i[1],closeModal:i[4]}}),{c(){t=b("div"),K(l.$$.fragment),this.h()},l(n){t=g(n,"DIV",{class:!0});var r=E(t);J(l.$$.fragment,r),r.forEach(h),this.h()},h(){m(t,"class","absolute inset-0 flex flex-col")},m(n,r){I(n,t,r),X(l,t,null),s=!0},p(n,r){const o={};r&2&&(o.duration=n[1]),l.$set(o)},i(n){s||(N(l.$$.fragment,n),n&&q(()=>{s&&(e||(e=V(t,L,{duration:300},!0)),e.run(1))}),s=!0)},o(n){B(l.$$.fragment,n),n&&(e||(e=V(t,L,{duration:300},!1)),e.run(0)),s=!1},d(n){n&&h(t),G(l),n&&e&&e.end()}}}function de(i){let t,l,e=i[0]&&yt(i);return{c(){e&&e.c(),t=gt()},l(s){e&&e.l(s),t=gt()},m(s,n){e&&e.m(s,n),I(s,t,n),l=!0},p(s,[n]){s[0]?e?(e.p(s,n),n&1&&N(e,1)):(e=yt(s),e.c(),N(e,1),e.m(t.parentNode,t)):e&&(lt(),B(e,1,1,()=>{e=null}),st())},i(s){l||(N(e),l=!0)},o(s){B(e),l=!1},d(s){s&&h(t),e&&e.d(s)}}}function me(i,t,l){let{show:e=!1}=t,{duration:s=dt.ONE_MINUTE}=t,n=1,r;const o=()=>{l(0,e=!1),l(2,n=1)},d=c=>{const{clickTimestamps:u,durationMeditated:p,completed:x}=c.detail,v={user_id:Pt(),created_at:new Date(new Date().getTime()-p*1e3).toISOString(),level:0,duration_meditated:p,duration_planned:s,total_clicks:u.length,click_timestamps:u,completed:x},k=JSON.parse(localStorage.getItem("meditation_sessions")||"[]");k.push(v),localStorage.setItem("meditation_sessions",JSON.stringify(k)),l(3,r=c.detail),a()},a=()=>setTimeout(()=>l(2,n++,n),300),f=c=>d(c);return i.$$set=c=>{"show"in c&&l(0,e=c.show),"duration"in c&&l(1,s=c.duration)},[e,s,n,r,o,d,a,f]}class he extends Q{constructor(t){super(),tt(this,t,me,de,Z,{show:0,duration:1})}}function It(i,t,l){const e=i.slice();return e[4]=t[l],e}function Mt(i){let t,l=mt[i[4]]+"",e;return{c(){t=b("option"),e=H(l),this.h()},l(s){t=g(s,"OPTION",{});var n=E(t);e=P(n,l),n.forEach(h),this.h()},h(){t.__value=i[4],Bt(t,t.__value)},m(s,n){I(s,t,n),_(t,e)},p:W,d(s){s&&h(t)}}}function pe(i){let t,l,e="Select Meditation Duration",s,n,r,o,d=ft(i[2]),a=[];for(let f=0;f<d.length;f+=1)a[f]=Mt(It(i,d,f));return{c(){t=b("div"),l=b("label"),l.textContent=e,s=$(),n=b("select");for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){t=g(f,"DIV",{class:!0});var c=E(t);l=g(c,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(l)!=="svelte-1c6041l"&&(l.textContent=e),s=R(c),n=g(c,"SELECT",{id:!0,class:!0});var u=E(n);for(let p=0;p<a.length;p+=1)a[p].l(u);u.forEach(h),c.forEach(h),this.h()},h(){m(l,"for","duration"),m(l,"class","text-lg font-medium"),m(n,"id","duration"),m(n,"class","select select-bordered w-full max-w-xs"),m(t,"class","flex flex-col items-center gap-4")},m(f,c){I(f,t,c),_(t,l),_(t,s),_(t,n);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(n,null);bt(n,i[0]),r||(o=F(n,"change",i[3]),r=!0)},p(f,[c]){if(c&4){d=ft(f[2]);let u;for(u=0;u<d.length;u+=1){const p=It(f,d,u);a[u]?a[u].p(p,c):(a[u]=Mt(p),a[u].c(),a[u].m(n,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=d.length}c&5&&bt(n,f[0])},i:W,o:W,d(f){f&&h(t),St(a,f),r=!1,o()}}}function _e(i,t,l){let{selectedDuration:e}=t,{onDurationChange:s}=t;const n=Object.values(dt).filter(o=>typeof o=="number"),r=o=>s(Number(o.currentTarget.value));return i.$$set=o=>{"selectedDuration"in o&&l(0,e=o.selectedDuration),"onDurationChange"in o&&l(1,s=o.onDurationChange)},[e,s,n,r]}class ve extends Q{constructor(t){super(),tt(this,t,_e,pe,Z,{selectedDuration:0,onDurationChange:1})}}function ge(i){let t,l,e,s="Welcome to The Meditation Game!",n,r,o="Learn how to meditate through gameplay",d,a,f,c,u,p="Start meditation",x,y,v=`<p>Learn to meditate for real at 
			<a href="https://www.dhamma.org" target="_blank" class="text-blue-500 underline">dhamma.org ↗</a></p> <p class="mt-2">This app was made by Arjun Kalburgi, PM with 5 years experience. 
			Hire him to build your 0-1 consumer products! 
			<a href="https://www.linkedin.com/in/arjunkalburgi" target="_blank" class="text-blue-500 underline">View LinkedIn ↗</a></p>`,k,M,U,O,D,T;a=new ve({props:{selectedDuration:i[1],onDurationChange:i[3]}});function j(w){i[4](w)}let C={duration:i[1]};return i[0]!==void 0&&(C.show=i[0]),M=new he({props:C}),pt.push(()=>vt(M,"show",j)),{c(){t=b("div"),l=b("div"),e=b("h2"),e.textContent=s,n=$(),r=b("p"),r.textContent=o,d=$(),K(a.$$.fragment),f=$(),c=b("div"),u=b("button"),u.textContent=p,x=$(),y=b("div"),y.innerHTML=v,k=$(),K(M.$$.fragment),this.h()},l(w){t=g(w,"DIV",{class:!0});var S=E(t);l=g(S,"DIV",{class:!0});var Y=E(l);e=g(Y,"H2",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-pdov40"&&(e.textContent=s),n=R(Y),r=g(Y,"P",{"data-svelte-h":!0}),A(r)!=="svelte-9lckun"&&(r.textContent=o),d=R(Y),J(a.$$.fragment,Y),f=R(Y),c=g(Y,"DIV",{class:!0});var nt=E(c);u=g(nt,"BUTTON",{class:!0,"data-svelte-h":!0}),A(u)!=="svelte-q2j8m"&&(u.textContent=p),nt.forEach(h),Y.forEach(h),x=R(S),y=g(S,"DIV",{class:!0,"data-svelte-h":!0}),A(y)!=="svelte-1iyjdy7"&&(y.innerHTML=v),S.forEach(h),k=R(w),J(M.$$.fragment,w),this.h()},h(){m(e,"class","h2"),m(u,"class","btn variant-filled"),m(c,"class","flex justify-center space-x-2"),m(l,"class","space-y-10 text-center flex flex-col items-center"),m(y,"class","absolute bottom-6 text-center text-sm text-gray-500"),m(t,"class","container h-full mx-auto flex justify-center items-center p-6 svelte-v1my5k")},m(w,S){I(w,t,S),_(t,l),_(l,e),_(l,n),_(l,r),_(l,d),X(a,l,null),_(l,f),_(l,c),_(c,u),_(t,x),_(t,y),I(w,k,S),X(M,w,S),O=!0,D||(T=F(u,"click",i[2]),D=!0)},p(w,[S]){const Y={};S&2&&(Y.selectedDuration=w[1]),S&2&&(Y.onDurationChange=w[3]),a.$set(Y);const nt={};S&2&&(nt.duration=w[1]),!U&&S&1&&(U=!0,nt.show=w[0],_t(()=>U=!1)),M.$set(nt)},i(w){O||(N(a.$$.fragment,w),N(M.$$.fragment,w),O=!0)},o(w){B(a.$$.fragment,w),B(M.$$.fragment,w),O=!1},d(w){w&&(h(t),h(k)),G(a),G(M,w),D=!1,T()}}}function be(i,t,l){let e=!1,s=dt.ONE_MINUTE;const n=()=>{window.audioContext||(window.audioContext=new(window.AudioContext||window.webkitAudioContext)),l(0,e=!0)},r=d=>l(1,s=d);function o(d){e=d,l(0,e)}return[e,s,n,r,o]}class Ce extends Q{constructor(t){super(),tt(this,t,be,ge,Z,{})}}export{Ce as component};
